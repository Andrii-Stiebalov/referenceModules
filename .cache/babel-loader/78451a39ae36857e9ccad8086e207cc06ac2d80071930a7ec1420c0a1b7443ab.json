{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nconst CategoriesDictionary = {\n  lHand: \"Рука (Левая)\",\n  rHand: \"Рука (Правая)\",\n  Torso: \"Торс\",\n  Head: \"Голова\",\n  lLeg: \"Нога (Левая)\",\n  rLeg: \"Нога (Правая)\",\n  blackwork: \"BlackWork\",\n  custom: \"Custom\"\n};\nimport \"./Tattoo.scss\";\nexport default {\n  data() {\n    return {\n      categories: {\n        lHand: null,\n        rHand: null,\n        Torso: null,\n        Head: null,\n        lLeg: null,\n        rLeg: null,\n        blackwork: null,\n        custom: null\n      },\n      activeCategory: null,\n      activeTattoo: null\n    };\n  },\n  computed: {\n    getTattoos() {\n      return this.categories[this.activeCategory] || [];\n    }\n  },\n  methods: {\n    setData(payload) {\n      this.$recursiveAssign(payload, this.categories, true);\n      if (this.categories[this.activeCategory] && this.categories[this.activeCategory][0]) this.setActiveTattoo(this.categories[this.activeCategory][0]);else {\n        this.activeTattoo = null;\n      }\n    },\n    getCategoryName(category) {\n      return CategoriesDictionary[category];\n    },\n    isCategoryActive(category) {\n      return this.activeCategory == category;\n    },\n    setActiveCategory(category) {\n      if (!this.isCategoryActive(category)) {\n        this.activeCategory = category;\n        this.activeTattoo = null;\n        if (this.categories[this.activeCategory] == null) this.$callClient(\"C:Tattoo:GetTattoos\", this.activeCategory);else {\n          this.setActiveTattoo(this.categories[this.activeCategory][0]);\n        }\n      }\n    },\n    isTattooActive(tattoo) {\n      return this.activeTattoo == tattoo;\n    },\n    setActiveTattoo(tattoo) {\n      if (!this.isTattooActive(tattoo)) this.activeTattoo = tattoo;\n    },\n    closeTattoo() {\n      this.$router.push(\"/\");\n    },\n    removeTattoo() {\n      this.$callClient(\"C:Tattoo:RemoveTatto\", this.activeCategory, this.activeTattoo);\n    },\n    onKeyUp(e) {\n      if (e.keyCode === 27 && !window.isModalShow) this.closeTattoo();\n    }\n  },\n  created() {\n    window.addEventListener(\"keyup\", this.onKeyUp);\n    this.$onClient(\"W:Tattoo:SetData\", this.setData);\n    this.$callClient(\"C:Tatto:BrowserReady\");\n    this.setActiveCategory(Object.keys(this.categories)[0]);\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"keyup\", this.onKeyUp);\n    this.$offClient(\"W:Tattoo:SetData\", this.setData);\n    this.$callClient(\"C:Tatto:BrowserDestroyed\");\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}