{"ast":null,"code":"import MapIcon from \"./Components/Map.vue\";\nimport Dollar from \"./Components/Dollar.vue\";\nimport Hr from \"./Components/hr.vue\";\nimport Qwestion from \"./Components/Qwestion.vue\";\nimport Arrow from \"./Components/Arrow.vue\";\nexport default {\n  data() {\n    return {\n      selectedTab: \"orders\",\n      progressData: null,\n      orderList: [],\n      selectedOrder: null\n    };\n  },\n  components: {\n    MapIcon,\n    Dollar,\n    Hr,\n    Qwestion,\n    Arrow\n  },\n  computed: {\n    getPosition() {\n      const imgWidth = 10000;\n      const imgHeight = 11060;\n      let procentH = (this.selectedOrder.position.Y - 1560) / imgHeight * 100;\n      let procentW = (this.selectedOrder.position.X + 50) / imgWidth * 100;\n      procentH = 50 - procentH;\n      procentW = 50 + procentW;\n      return {\n        left: `${procentW}%`,\n        top: `${procentH}%`\n      };\n    },\n    getProgressProcent() {\n      return this.progressData.currentExp / this.progressData.needExp * 100;\n    }\n  },\n  watch: {\n    selectedTab(value) {\n      if (value === \"orders\") {\n        this.stopVideoInIframe();\n      }\n    }\n  },\n  methods: {\n    setData(data) {\n      this.progressData = data.progressData;\n      this.orderList = data.orderList;\n    },\n    takeOrder(id) {\n      this.$callClient(\"C:TruckerMenu:TakeOrder\", id);\n    },\n    stopVideoInIframe() {\n      const iframe = document.querySelector(\"iframe\");\n      if (iframe) {\n        iframe.contentWindow.postMessage('{\"event\": \"command\", \"func\": \"stopVideo\", \"args\": \"\"}', \"*\");\n      }\n    },\n    formatNumber(number) {\n      return number.toLocaleString();\n    },\n    closeApp() {\n      this.isActive = false;\n      this.$callClient(\"C:TruckerMenu:Close\");\n    },\n    keyup(e) {\n      if (e.keyCode === 27 && !window.isModalShow) {\n        this.closeApp();\n      }\n    }\n  },\n  mounted() {\n    // this.setData(data);\n    this.$onClient(\"W:TruckerMenu:SetData\", this.setData);\n    this.$callClient(\"C:TruckerMenu:Ready\");\n    window.addEventListener(\"keyup\", this.keyup);\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"keyup\", this.keyup);\n    this.$offClient(\"W:TruckerMenu:SetData\", this.setData);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}