{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport UziIcon from \"./Components/Uzi-icon.vue\";\nimport ToolsIcon from \"./Components/Tools-icon.vue\";\nimport ProductsIcon from \"./Components/Products-icon.vue\";\nimport OtherIcon from \"./Components/Other-icon.vue\";\nimport RobIcon from \"./Components/Rob-icon.vue\";\nimport MedicinesIcon from \"./Components/Medicines-icon.vue\";\nimport PistolIcon from \"./Components/Pistol-icon.vue\";\nimport AmmoIcon from \"./Components/Ammo-icon.vue\";\nimport BumpIcon from \"./Components/Bump-icon.vue\";\nimport SeedsIcon from \"./Components/Seeds-icon.vue\";\nimport LowAlcoholIcon from \"./Components/LowAlcohol-icon.vue\";\nimport HightAlcoholIcon from \"./Components/HightAlcohol-icon\";\nimport CdnResolverImage from \"@/Components/CdnResolverImage.vue\";\nexport default {\n  data() {\n    return {\n      selectedItemCatigory: null,\n      multiplycatorsList: [1, 5, 10],\n      selectedMultiplycator: 1,\n      bindIconsByItemCategory: {\n        tools: ToolsIcon,\n        products: ProductsIcon,\n        other: OtherIcon,\n        rob: RobIcon,\n        medicines: MedicinesIcon,\n        pistol: PistolIcon,\n        ammo: AmmoIcon,\n        bump: BumpIcon,\n        uzi: UziIcon,\n        seeds: SeedsIcon,\n        low_alcohol: LowAlcoholIcon,\n        hight_alcohol: HightAlcoholIcon\n      },\n      category: [],\n      items: [],\n      shopId: \"\",\n      shopName: \"\",\n      shopTitle: \"\",\n      categoryData: [{\n        itemCategory: \"products\",\n        itemLabel: \"Продукты\"\n      }, {\n        itemCategory: \"seeds\",\n        itemLabel: \"Семена\"\n      }, {\n        itemCategory: \"medicines\",\n        itemLabel: \"Лекарства\"\n      }, {\n        itemCategory: \"tools\",\n        itemLabel: \"Инструменты\"\n      }, {\n        itemCategory: \"other\",\n        itemLabel: \"Разное\"\n      }, {\n        itemCategory: \"rod\",\n        itemLabel: \"Удочки\"\n      }, {\n        itemCategory: \"pistol\",\n        itemLabel: \"Пистолеты\"\n      }, {\n        itemCategory: \"bump\",\n        itemLabel: \"Дробовики\"\n      }, {\n        itemCategory: \"uzi\",\n        itemLabel: \"Автоматы\"\n      }, {\n        itemCategory: \"ammo\",\n        itemLabel: \"Патроны\"\n      }, {\n        itemCategory: \"hight_alcohol\",\n        itemLabel: \"Слабоалкогольные\"\n      }, {\n        itemCategory: \"low_alcohol\",\n        itemLabel: \"Крепкие\"\n      }]\n    };\n  },\n  components: {\n    CdnResolverImage\n  },\n  computed: {\n    filteredItems() {\n      return this.items.filter(item => item.itemCategory === this.selectedItemCatigory);\n    },\n    getBalance() {\n      return this.$store.getters[\"playerMenu/getBalance\"];\n    }\n  },\n  methods: {\n    formatMoney(amount) {\n      return amount.toLocaleString(\"en-US\", {\n        style: \"currency\",\n        currency: \"USD\",\n        minimumFractionDigits: 0\n      }).replace(\"$\", \"\").replace(/,/g, \".\");\n    },\n    getItemImage(id) {\n      return `cdn/inventory/other/${id}.png`;\n    },\n    getDescript(item) {\n      if (item.satiety) {\n        return this.$t(`Відновлює {0}% ситості`, [item.satiety]);\n      } else if (item.thirst) {\n        return this.$t(`Відновлює {0}% спраги`, [item.thirst]);\n      } else if (item.effectDamageResist) {\n        return this.$t(`Зменшує шкоду на {0}%`, [item.effectDamageResist]);\n      } else if (item.ammo) {\n        return this.$t(`Кількість патронів в одному осередку {0}`, [item.ammo]);\n      }\n    },\n    setData(data) {\n      for (let item of data.items) {\n        let cat = this.categoryData.find(x => x.itemCategory == item.itemCategory);\n        if (this.category.includes(cat)) continue;\n        this.category.push(cat);\n      }\n      this.$recursiveAssign(data, this.$data);\n      this.selectedItemCatigory = this.category[0].itemCategory;\n    },\n    onBuy(item, type, isCraft) {\n      const UniversalModalData = {\n        title: this.$t(\"Покупка товаров\"),\n        content: [{\n          type: \"description\",\n          value: this.$t(`{0}: <span>{1}</span> <span>{2}</span> за <span>{3} {4}</span>`, [isCraft ? \"Крафт\" : \"Покупка\", this.selectedMultiplycator, item.itemTitle, this.formatMoney(item.itemPrice * this.selectedMultiplycator), !isCraft ? \"$\" : `<div data-type=\"img\" data-img=\"craftCurency.svg\" />`])\n        }],\n        buttons: {\n          submit: {\n            name: this.$t(\"Подтвердить\"),\n            handler: () => {\n              const index = this.items.findIndex(el => el.itemId === item.itemId);\n              this.$callClient(\"buyItem\", type, index, this.selectedMultiplycator, this.type);\n            }\n          },\n          cansel: {\n            name: this.$t(\"Отмена\")\n          }\n        }\n      };\n      this.$UniversalModal.create(UniversalModalData);\n    },\n    onKeyUp(e) {\n      if (e.keyCode === 27) {\n        this.$callClient(\"shop24close\");\n      }\n    }\n  },\n  mounted() {\n    window.addEventListener(\"keyup\", this.onKeyUp);\n    this.$onClient(\"C:Shop24:SetData\", this.setData);\n    this.$callClient(\"W:Shop24:Ready\");\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}