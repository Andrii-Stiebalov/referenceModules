{"ast":null,"code":"import FindIcon from \"@/Application/Pages/Phone/Pages/Apps/TransportApp/Components/FindIcon.vue\";\nimport EvacIcon from \"@/Application/Pages/Phone/Pages/Apps/TransportApp/Components/EvacIcon.vue\";\nimport PropsIcon from \"@/Application/Pages/Phone/Pages/Apps/TransportApp/Components/PropsIcon.vue\";\nimport RevertIcon from \"@/Application/Pages/Phone/Pages/Apps/TransportApp/Components/RevertIcon.vue\";\nimport SellIcon from \"@/Application/Pages/Phone/Pages/Apps/TransportApp/Components/SellIcon.vue\";\nimport TransportAppProps from \"./TransportAppProps.vue\";\nimport TransportAppSell from \"./TransportAppSell.vue\";\nimport PhoneMixin from \"@/Application/Pages/Phone/Mixins/PhoneMixin.vue\";\nexport default {\n  data() {\n    return {\n      isCalling: false,\n      isShowProps: false,\n      isShowSell: false,\n      buttonList: [{\n        name: \"Найти\",\n        desc: \"транспорт\",\n        icon: FindIcon,\n        price: 100,\n        action: \"find\"\n      }, {\n        name: \"Восстановить\",\n        desc: \"транспорт\",\n        icon: RevertIcon,\n        price: 300,\n        action: \"revert\"\n      }, {\n        name: \"Эвакуировать\",\n        desc: \"транспорт\",\n        icon: EvacIcon,\n        price: 200,\n        action: \"evac\"\n      }, {\n        name: \"Продать\",\n        desc: \"транспорт\",\n        icon: SellIcon,\n        price: this.carData.SellingPrice,\n        action: this.carData.SellingPrice ? \"sell\" : null\n      }],\n      bindAction: {\n        find: {\n          action: \"find\",\n          title: \"Найти\",\n          text: \"Вы уверены, что хотите найти транспорт?\"\n        },\n        revert: {\n          action: \"revert\",\n          title: \"Восстановить\",\n          text: \"Вы уверены, что хотите восстановить транспорт?\"\n        },\n        evac: {\n          action: \"evac\",\n          title: \"Эвакуировать\",\n          text: \"Вы уверены, что хотите эвакуировать транспорт?\"\n        },\n        sell: {\n          action: \"sell\",\n          title: \"Продать\",\n          text: \"Вы уверены, что хотите продать транспорт?\"\n        }\n      }\n    };\n  },\n  mixins: [PhoneMixin],\n  props: {\n    carData: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  methods: {\n    showProps() {\n      this.isShowProps = true;\n    },\n    modalCreation(title, text, onSubmitAction) {\n      if (onSubmitAction == \"sell\") {\n        this.isShowSell = true;\n        return;\n      }\n      this.$store.dispatch(\"phone/addModal\", {\n        title,\n        text,\n        buttons: [{\n          text: \"Отменить\",\n          action: () => {\n            this.$store.dispatch(\"phone/removeModal\");\n          }\n        }, {\n          text: \"Подтвердить\",\n          action: () => {\n            this.$callClient(`W:Phone:Transport:${onSubmitAction}`, this.carData.UUID);\n            this.$store.dispatch(\"phone/removeModal\");\n          }\n        }]\n      });\n    },\n    bindActon(action) {\n      if (!action) return;\n      this.modalCreation(this.bindAction[action].title, this.bindAction[action].text, this.bindAction[action].action);\n    }\n  },\n  components: {\n    PropsIcon,\n    TransportAppProps,\n    TransportAppSell\n  },\n  mounted() {\n    window.addEventListener(\"keydown\", e => {\n      if (e.keyCode === 8) {\n        this.isShowProps = false;\n      }\n    });\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}