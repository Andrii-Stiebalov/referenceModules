{"ast":null,"code":"import WalkieTalkieWrapper from \"./Components/WalkieTalkieWrapper.vue\";\nimport Battery from \"./Components/Battery.vue\";\nimport { Howl } from \"howler\";\nexport default {\n  data() {\n    return {\n      WalkieTalkieData: null,\n      inputVlaue: \"\",\n      passwordValue: \"\",\n      showedSection: \"main\",\n      priviusShowedSection: \"\",\n      remScale: 1,\n      isActive: false\n    };\n  },\n  components: {\n    WalkieTalkieWrapper,\n    Battery\n  },\n  computed: {},\n  methods: {\n    toggleON() {\n      // this.WalkieTalkieData.isOn = !this.WalkieTalkieData.isOn;\n      if (!this.WalkieTalkieData.isOn) {\n        this.inputVlaue = \"\";\n        this.passwordValue = \"\";\n      }\n      this.$callClient(\"C:RadioStation:ChangePowerState\", !this.WalkieTalkieData.isOn);\n    },\n    setRemScale() {\n      const bodyElement = document.body;\n      this.remScale = window.getComputedStyle(bodyElement).fontSize.slice(0, -2) / 10;\n    },\n    onDel() {\n      if (!this.WalkieTalkieData.isOn) {\n        return;\n      }\n      this.playDellSound();\n      if (this.showedSection === \"main\") {\n        this.inputVlaue = this.inputVlaue.slice(0, -1);\n      }\n      if (this.showedSection === \"conected\") {\n        this.$callClient(\"C:RadioStation:ExitStation\");\n      }\n      if (this.showedSection == \"password\") {\n        if (this.passwordValue) {\n          this.passwordValue = this.passwordValue.slice(0, -1);\n        } else {\n          this.$callClient(\"C:RadioStation:ExitStation\");\n        }\n      }\n    },\n    setPage(page) {\n      this.showedSection = page;\n    },\n    oninputtext(num) {\n      if (!this.WalkieTalkieData.isOn) {\n        return;\n      }\n      this.playClickSound();\n      if (this.showedSection == \"password\" && this.passwordValue.length < 6) {\n        this.passwordValue += num;\n        return;\n      }\n      if (this.inputVlaue.length >= 4 || this.showedSection !== \"main\") {\n        return;\n      }\n      this.inputVlaue += num;\n    },\n    playClickSound() {\n      let sound = new Howl({\n        src: require(\"./Assets/Sounds/soundClick.wav\"),\n        volume: 0.5 * this.WalkieTalkieData.volume / 100\n      });\n      sound.play();\n    },\n    playVolumeSound(val) {\n      let sound = new Howl({\n        src: require(\"./Assets/Sounds/soundClick.wav\"),\n        volume: val\n      });\n      sound.play();\n    },\n    playOnSound() {\n      let sound = new Howl({\n        src: require(\"./Assets/Sounds/soundOn.wav\"),\n        volume: 0.5 * this.WalkieTalkieData.volume / 100\n      });\n      sound.play();\n    },\n    playOffSound() {\n      let sound = new Howl({\n        src: require(\"./Assets/Sounds/soundOff.wav\"),\n        volume: 0.5 * this.WalkieTalkieData.volume / 100\n      });\n      sound.play();\n    },\n    playConectSound() {\n      let sound = new Howl({\n        src: require(\"./Assets/Sounds/soundOnConect.mp3\"),\n        volume: 0.5 * this.WalkieTalkieData.volume / 100\n      });\n      sound.play();\n    },\n    playDellSound() {\n      let sound = new Howl({\n        src: require(\"./Assets/Sounds/soundDel.wav\"),\n        volume: 0.5 * this.WalkieTalkieData.volume / 100\n      });\n      sound.play();\n    },\n    onEnterPasswordMenu(frequency) {\n      this.WalkieTalkieData.frequency = frequency;\n      this.showedSection = \"password\";\n    },\n    onenterValue() {\n      if (!this.WalkieTalkieData.isOn) {\n        return;\n      }\n      this.playClickSound();\n      if (this.showedSection == \"main\" && this.inputVlaue) {\n        this.$callClient(\"C:RadioStation:SelectFrequency\", this.inputVlaue);\n        this.inputVlaue = \"\";\n      }\n      if (this.showedSection == \"password\" && this.passwordValue) {\n        this.$callClient(\"C:RadioStation:EnterPassword\", this.WalkieTalkieData.frequency, this.passwordValue);\n        this.passwordValue = \"\";\n      }\n    },\n    setData(data) {\n      this.WalkieTalkieData = data;\n      if (data.frequency) {\n        this.showedSection = \"conected\";\n        this.playConectSound();\n      } else {\n        this.showedSection = \"main\";\n      }\n    },\n    closeApp() {\n      this.WalkieTalkieData = null;\n    },\n    onAfterLeave() {\n      this.$callClient(\"C:RadioStation:AnimationEnded\");\n    },\n    onchangeVolume(type) {\n      if (!this.WalkieTalkieData.isOn) {\n        return;\n      }\n      if (this.showedSection !== \"sound\") {\n        this.priviusShowedSection = this.showedSection;\n      }\n      this.showedSection = \"sound\";\n      if (type === \"-\") {\n        this.WalkieTalkieData.volume = this.WalkieTalkieData.volume === 0 ? 0 : this.WalkieTalkieData.volume - 10;\n      }\n      if (type === \"+\") {\n        this.WalkieTalkieData.volume = this.WalkieTalkieData.volume === 100 ? 100 : this.WalkieTalkieData.volume + 10;\n      }\n      this.$callClient(\"C:RadioStation:ChangeVolumeState\", this.WalkieTalkieData.volume);\n      if (this.showSoundTimeout) {\n        clearTimeout(this.showSoundTimeout);\n        this.showSoundTimeout = null;\n      }\n      this.showSoundTimeout = setTimeout(() => {\n        this.showedSection = this.priviusShowedSection;\n      }, 1500);\n      this.playVolumeSound(0.5 * this.WalkieTalkieData.volume / 100);\n    }\n  },\n  watch: {\n    WalkieTalkieData(val, oldVal) {\n      if (val?.isOn && !oldVal?.isOn) {\n        this.playOnSound();\n        return;\n      }\n      if (!val?.isOn && oldVal?.isOn) {\n        this.playOffSound();\n        return;\n      }\n    }\n  },\n  mounted() {\n    window.addEventListener(\"resize\", this.setRemScale);\n    this.setRemScale();\n    this.$onClient(\"W:RadioStation:PushData\", this.setData);\n    this.$onClient(\"W:RadioStation:CloseApp\", this.closeApp);\n    this.$onClient(\"W:RadioStation:EnterPasswordMenu\", this.onEnterPasswordMenu);\n    setTimeout(() => {\n      this.isActive = true;\n    });\n    this.$callClient(\"C:RadioStation:Ready\");\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"resize\", this.setRemScale);\n    this.setRemScale();\n    this.$offClient(\"W:RadioStation:CloseApp\", this.closeApp);\n    this.$offClient(\"W:RadioStation:PushData\", this.setData);\n    this.$offClient(\"W:RadioStation:EnterPasswordMenu\", this.onEnterPasswordMenu);\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}