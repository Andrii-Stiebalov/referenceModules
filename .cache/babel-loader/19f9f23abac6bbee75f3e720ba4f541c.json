{"ast":null,"code":"import InfoIcon from \"./Assets/icons/InfoIcon.vue\";\nimport PenIcon from \"./Assets/icons/PenIcon.vue\";\nimport StatsIcon from \"./Assets/icons/StatsIcon.vue\";\nimport RedactIcon from \"./Assets/icons/RedactIcon.vue\";\nimport PriceStatsIcon from \"./Assets/icons/PriceStatsIcon.vue\";\nimport Redaction from \"./Assets/icons/Redaction.vue\";\nimport NoticeIcon from \"./Assets/icons/NoticeIcon.vue\";\nimport StatsUpIcon from \"./Assets/icons/StatsUpIcon.vue\";\nimport TypeIconVue from \"./Components/TypeIcon.vue\";\nimport crownIcon from \"./Assets/icons/crownIcon.vue\";\nexport default {\n  data() {\n    return {\n      selectedPage: 1,\n      content: {\n        employeesTop: [\n          // {\n          //   id: 1,\n          //   name: \"Mrs_Hadson\",\n          //   announcementCount: 1,\n          // },\n          // {\n          //   id: 2,\n          //   name: \"EDMUNDAS_JANCAUSKASWENZJAD\",\n          //   announcementCount: 21231,\n          // },\n          // {\n          //   id: 3,\n          //   name: \"3\",\n          //   announcementCount: 3,\n          // },\n          // {\n          //   id: 4,\n          //   name: \"4\",\n          //   announcementCount: 4,\n          // },\n          // {\n          //   id: 4,\n          //   name: \"4\",\n          //   announcementCount: 4,\n          // },\n          // {\n          //   id: 4,\n          //   name: \"4\",\n          //   announcementCount: 4,\n          // },\n          // {\n          //   id: 4,\n          //   name: \"4\",\n          //   announcementCount: 4,\n          // },\n          // {\n          //   id: 4,\n          //   name: \"4\",\n          //   announcementCount: 500,\n          // },\n        ],\n        weekEdited: 0,\n        allEdited: 0,\n        announcementPrice: 1000,\n        employeesOnline: 0,\n        employersEditors: 0,\n        ownerId: 2\n      },\n      options: {\n        darkTheme: false,\n        notificationEnabled: false,\n        redactionOpened: false\n      },\n      reqInputValue: \"\",\n      selectedItem: null,\n      adverts: [\n        // {\n        //   type: \"helmet\",\n        //   color: \"Цвет1\",\n        //   title: \"Заголовок1\",\n        //   icon: \"Иконка1\",\n        //   img: \"Изображение1\",\n        //   redactor: \"Редактор1\",\n        //   message: \"Сообщение1\",\n        //   contacts: 12345,\n        //   id: 1,\n        //   sender: \"Отправитель1\",\n        //   number: 67890,\n        //   content: \"Содержимое1\",\n        //   EditedAD: \"Отредактировано1\",\n        //   BlockedBy: \"Заблокировано1\",\n        //   Status: true,\n        // },\n        // {\n        //   type: \"Service\",\n        //   color: \"Цвет2\",\n        //   title: \"Заголовок2\",\n        //   icon: \"Иконка2\",\n        //   img: \"Изображение2\",\n        //   redactor: \"Редактор2\",\n        //   message: \"Сообщение2\",\n        //   contacts: 54321,\n        //   id: 2,\n        //   sender: \"Отправитель2\",\n        //   number: 98765,\n        //   content: \"Содержимое2\",\n        //   EditedAD: \"Отредактировано2\",\n        //   BlockedBy: \"Заблокировано2\",\n        //   Status: false,\n        // },\n        // {\n        //   type: \"Work\",\n        //   color: \"Цвет1\",\n        //   title: \"Заголовок1\",\n        //   icon: \"Иконка1\",\n        //   img: \"Изображение1\",\n        //   redactor: \"Редактор1\",\n        //   message: \"Сообщение1\",\n        //   contacts: 12345,\n        //   id: 1,\n        //   sender: \"Отправитель1\",\n        //   number: 67890,\n        //   content: \"Содержимое1\",\n        //   EditedAD: \"Отредактировано1\",\n        //   BlockedBy: \"Заблокировано1\",\n        //   Status: true,\n        // },\n        // {\n        //   type: \"car\",\n        //   color: \"Цвет2\",\n        //   title: \"Заголовок2\",\n        //   icon: \"Иконка2\",\n        //   img: \"Изображение2\",\n        //   redactor: \"Редактор2\",\n        //   message: \"Сообщение2\",\n        //   contacts: 54321,\n        //   id: 2,\n        //   sender: \"Отправитель2\",\n        //   number: 98765,\n        //   content: \"Содержимое2\",\n        //   EditedAD: \"Отредактировано2\",\n        //   BlockedBy: \"Заблокировано2\",\n        //   Status: false,\n        // },\n      ],\n      redactions: [\n        // {\n        //   type: \"helmet\",\n        //   color: \"Цвет1\",\n        //   title: \"Заголовок1\",\n        //   icon: \"Иконка1\",\n        //   img: \"Изображение1\",\n        //   redactor: \"Редактор1\",\n        //   message: \"Сообщение1\",\n        //   contacts: 12345,\n        //   id: 1,\n        //   sender: \"Отправитель1\",\n        //   number: 67890,\n        //   content:\n        //     \"Куплю какую-нибудь черную футболку фирмы Nike. Цена зависит от качества и редкости. Пишите, звоните - всем отвечу! AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\n        //   EditedAD: \"Отредактировано1\",\n        //   BlockedBy: \"Заблокировано1\",\n        //   Status: true,\n        // },\n        // {\n        //   type: \"Dating\",\n        //   color: \"Цвет2\",\n        //   title: \"Заголовок2\",\n        //   icon: \"Иконка2\",\n        //   img: \"Изображение2\",\n        //   redactor: \"Редактор2\",\n        //   message: \"Сообщение2\",\n        //   contacts: 54321,\n        //   id: 2,\n        //   sender: \"Отправитель2\",\n        //   number: 98765,\n        //   content: \"Содержимое2\",\n        //   EditedAD: \"Отредактировано2\",\n        //   BlockedBy: \"Заблокировано2\",\n        //   Status: false,\n        // },\n        // {\n        //   type: \"Work\",\n        //   color: \"Цвет1\",\n        //   title: \"Заголовок1\",\n        //   icon: \"Иконка1\",\n        //   img: \"Изображение1\",\n        //   redactor: \"Редактор1\",\n        //   message: \"Сообщение1\",\n        //   contacts: 12345,\n        //   id: 1,\n        //   sender: \"Отправитель1\",\n        //   number: 67890,\n        //   content:\n        //     \"Куплю какую-нибудь черную футболку фирмы Nike. Цена зависит от качества и редкости. Пишите, звоните - всем отвечу! AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\n        //   EditedAD: \"Отредактировано1\",\n        //   BlockedBy: \"Заблокировано1\",\n        //   Status: true,\n        // },\n        // {\n        //   type: \"Dating\",\n        //   color: \"Цвет2\",\n        //   title: \"Заголовок2\",\n        //   icon: \"Иконка2\",\n        //   img: \"Изображение2\",\n        //   redactor: \"Редактор2\",\n        //   message: \"Сообщение2\",\n        //   contacts: 54321,\n        //   id: 2,\n        //   sender: \"Отправитель2\",\n        //   number: 98765,\n        //   content: \"Содержимое2\",\n        //   EditedAD: \"Отредактировано2\",\n        //   BlockedBy: \"Заблокировано2\",\n        //   Status: false,\n        // },\n        // {\n        //   type: \"Work\",\n        //   color: \"Цвет1\",\n        //   title: \"Заголовок1\",\n        //   icon: \"Иконка1\",\n        //   img: \"Изображение1\",\n        //   redactor: \"Редактор1\",\n        //   message: \"Сообщение1\",\n        //   contacts: 12345,\n        //   id: 1,\n        //   sender: \"Отправитель1\",\n        //   number: 67890,\n        //   content:\n        //     \"Куплю какую-нибудь черную футболку фирмы Nike. Цена зависит от качества и редкости. Пишите, звоните - всем отвечу! AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\n        //   EditedAD: \"Отредактировано1\",\n        //   BlockedBy: \"Заблокировано1\",\n        //   Status: true,\n        // },\n        // {\n        //   type: \"Dating\",\n        //   color: \"Цвет2\",\n        //   title: \"Заголовок2\",\n        //   icon: \"Иконка2\",\n        //   img: \"Изображение2\",\n        //   redactor: \"Редактор2\",\n        //   message: \"Сообщение2\",\n        //   contacts: 54321,\n        //   id: 2,\n        //   sender: \"Отправитель2\",\n        //   number: 98765,\n        //   content: \"Содержимое2\",\n        //   EditedAD: \"Отредактировано2\",\n        //   BlockedBy: \"Заблокировано2\",\n        //   Status: false,\n        // },\n        // {\n        //   type: \"Work\",\n        //   color: \"Цвет1\",\n        //   title: \"Заголовок1\",\n        //   icon: \"Иконка1\",\n        //   img: \"Изображение1\",\n        //   redactor: \"Редактор1\",\n        //   message: \"Сообщение1\",\n        //   contacts: 12345,\n        //   id: 1,\n        //   sender: \"Отправитель1\",\n        //   number: 67890,\n        //   content:\n        //     \"Куплю какую-нибудь черную футболку фирмы Nike. Цена зависит от качества и редкости. Пишите, звоните - всем отвечу! AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\n        //   EditedAD: \"Отредактировано1\",\n        //   BlockedBy: \"Заблокировано1\",\n        //   Status: true,\n        // },\n        // {\n        //   type: \"Dating\",\n        //   color: \"Цвет2\",\n        //   title: \"Заголовок2\",\n        //   icon: \"Иконка2\",\n        //   img: \"Изображение2\",\n        //   redactor: \"Редактор2\",\n        //   message: \"Сообщение2\",\n        //   contacts: 54321,\n        //   id: 2,\n        //   sender: \"Отправитель2\",\n        //   number: 98765,\n        //   content: \"Содержимое2\",\n        //   EditedAD: \"Отредактировано2\",\n        //   BlockedBy: \"Заблокировано2\",\n        //   Status: false,\n        // },\n        // {\n        //   type: \"Work\",\n        //   color: \"Цвет1\",\n        //   title: \"Заголовок1\",\n        //   icon: \"Иконка1\",\n        //   img: \"Изображение1\",\n        //   redactor: \"Редактор1\",\n        //   message: \"Сообщение1\",\n        //   contacts: 12345,\n        //   id: 1,\n        //   sender: \"Отправитель1\",\n        //   number: 67890,\n        //   content:\n        //     \"Куплю какую-нибудь черную футболку фирмы Nike. Цена зависит от качества и редкости. Пишите, звоните - всем отвечу! AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\n        //   EditedAD: \"Отредактировано1\",\n        //   BlockedBy: \"Заблокировано1\",\n        //   Status: true,\n        // },\n        // {\n        //   type: \"Dating\",\n        //   color: \"Цвет2\",\n        //   title: \"Заголовок2\",\n        //   icon: \"Иконка2\",\n        //   img: \"Изображение2\",\n        //   redactor: \"Редактор2\",\n        //   message: \"Сообщение2\",\n        //   contacts: 54321,\n        //   id: 2,\n        //   sender: \"Отправитель2\",\n        //   number: 98765,\n        //   content: \"Содержимое2\",\n        //   EditedAD: \"Отредактировано2\",\n        //   BlockedBy: \"Заблокировано2\",\n        //   Status: false,\n        // },\n        // {\n        //   type: \"Work\",\n        //   color: \"Цвет1\",\n        //   title: \"Заголовок1\",\n        //   icon: \"Иконка1\",\n        //   img: \"Изображение1\",\n        //   redactor: \"Редактор1\",\n        //   message: \"Сообщение1\",\n        //   contacts: 12345,\n        //   id: 1,\n        //   sender: \"Отправитель1\",\n        //   number: 67890,\n        //   content:\n        //     \"Куплю какую-нибудь черную футболку фирмы Nike. Цена зависит от качества и редкости. Пишите, звоните - всем отвечу! AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\n        //   EditedAD: \"Отредактировано1\",\n        //   BlockedBy: \"Заблокировано1\",\n        //   Status: true,\n        // },\n        // {\n        //   type: \"Dating\",\n        //   color: \"Цвет2\",\n        //   title: \"Заголовок2\",\n        //   icon: \"Иконка2\",\n        //   img: \"Изображение2\",\n        //   redactor: \"Редактор2\",\n        //   message: \"Сообщение2\",\n        //   contacts: 54321,\n        //   id: 2,\n        //   sender: \"Отправитель2\",\n        //   number: 98765,\n        //   content: \"Содержимое2\",\n        //   EditedAD: \"Отредактировано2\",\n        //   BlockedBy: \"Заблокировано2\",\n        //   Status: false,\n        // },\n        // {\n        //   type: \"Work\",\n        //   color: \"Цвет1\",\n        //   title: \"Заголовок1\",\n        //   icon: \"Иконка1\",\n        //   img: \"Изображение1\",\n        //   redactor: \"Редактор1\",\n        //   message: \"Сообщение1\",\n        //   contacts: 12345,\n        //   id: 1,\n        //   sender: \"Отправитель1\",\n        //   number: 67890,\n        //   content:\n        //     \"Куплю какую-нибудь черную футболку фирмы Nike. Цена зависит от качества и редкости. Пишите, звоните - всем отвечу! AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\n        //   EditedAD: \"Отредактировано1\",\n        //   BlockedBy: \"Заблокировано1\",\n        //   Status: true,\n        // },\n        // {\n        //   type: \"Dating\",\n        //   color: \"Цвет2\",\n        //   title: \"Заголовок2\",\n        //   icon: \"Иконка2\",\n        //   img: \"Изображение2\",\n        //   redactor: \"Редактор2\",\n        //   message: \"Сообщение2\",\n        //   contacts: 54321,\n        //   id: 2,\n        //   sender: \"Отправитель2\",\n        //   number: 98765,\n        //   content: \"Содержимое2\",\n        //   EditedAD: \"Отредактировано2\",\n        //   BlockedBy: \"Заблокировано2\",\n        //   Status: false,\n        // },\n      ],\n      typeColor: \"\",\n      typeList: [{\n        name: \"Недвижимость\",\n        typeId: \"Estate\",\n        type: \"house\"\n      }, {\n        name: \"Работа\",\n        typeId: \"Work\",\n        type: \"helmet\"\n      }, {\n        name: \"Бизнес\",\n        typeId: \"Bussines\",\n        type: \"diplomat\"\n      }, {\n        name: \"Услуги\",\n        typeId: \"Service\",\n        type: \"instruments\"\n      }, {\n        name: \"Знакомства\",\n        typeId: \"Dating\",\n        type: \"human\"\n      }, {\n        name: \"Автомобиль\",\n        typeId: \"Car\",\n        type: \"car\"\n      }, {\n        name: \"Скидки\",\n        typeId: \"Sale\",\n        type: \"label\"\n      }, {\n        name: \"Другое\",\n        typeId: \"Other\",\n        type: \"other\"\n      }]\n    };\n  },\n  watch: {\n    selectedPage() {\n      this.reqInputValue = \"\";\n    },\n    selectedItem: {\n      handler() {\n        setTimeout(() => {\n          const typeIconItem = this.$refs.typeIcon.firstElementChild.querySelector(\"path\");\n          if (typeIconItem) {\n            this.typeColor = typeIconItem.getAttribute(\"fill\");\n          }\n        });\n      },\n      deep: true\n    }\n  },\n  methods: {\n    resizeTextarea() {\n      const textarea = document.getElementById(\"text\");\n      if (!textarea) {\n        return;\n      }\n      textarea.style.height = \"auto\"; // Сбрасываем высоту\n      textarea.style.height = textarea.scrollHeight + \"px\"; // Устанавливаем высоту на основе содержимого\n    },\n    dublicate() {\n      this.reqInputValue = this.selectedItem.content;\n      setTimeout(() => this.resizeTextarea());\n    },\n    selectItem(item) {\n      this.$callClient(\"Weazel:EditAnnouncement\", item.id);\n      this.selectedItem = item;\n      this.selectedPage = 2;\n    },\n    reject() {\n      this.$callClient(\"Weazel:RejectAnnouncement\", this.selectedItem.id);\n      this.selectedPage = 1;\n    },\n    setData(data) {\n      console.log(\"-=---data---=-\");\n      console.log(data);\n      this.content = data;\n    },\n    send() {\n      if (!this.reqInputValue || this.selectedItem.type === \"notification\") {\n        return;\n      }\n      this.$callClient(\"C:Weazel:SendAnnouncement\", this.selectedItem.id, this.reqInputValue, this.selectedItem.type);\n      this.selectedPage = 1;\n    },\n    setNewItem() {\n      // this.selectedPage = 1;\n    },\n    SetOptions(data) {\n      this.options = data;\n    },\n    remove(item) {\n      this.$callClient(\"Weazel:RemoveAnnouncemet\", item.id);\n    },\n    changeNothify() {\n      this.$callClient(\"Weazel:ChangeNotification\", !this.options.notificationEnabled);\n      this.options.notificationEnabled = !this.options.notificationEnabled;\n    },\n    closeRedaction() {\n      this.$callClient(\"Weazel:ChangeRedaction\", !this.options.redactionOpened);\n      this.options.redactionOpened = !this.options.redactionOpened;\n    },\n    UpdatePad(redactions, adverts) {\n      console.log(`__________---redactions ☼ adverts---________`);\n      console.log(redactions, adverts);\n      this.redactions = redactions;\n      this.adverts = adverts;\n    },\n    onKeydown(e) {\n      if (e.keyCode === 27 && !window.isModalShow) {\n        if (this.selectedItem) {\n          this.$callClient(\"Weazel:Close\", this.selectedItem.id);\n          return;\n        }\n        this.$callClient(\"Weazel:Close\", -1);\n      }\n    },\n    GetBack(advert) {\n      this.$callClient(\"Weazel:GetBack\", advert.id);\n    },\n    showChangePriceModal() {\n      const UniversalModalData = {\n        title: this.$t(\"Смена цены на объявление\"),\n        isSetToStore: true,\n        content: [{\n          type: \"description\",\n          value: this.$t(`Старая цена: <span>{0}<span>?`, [this.content.announcementPrice])\n        }, {\n          type: \"input\",\n          options: {\n            label: this.$t(\"Новая цена\"),\n            valuesName: \"admLvl\",\n            isOnlyNumber: true\n          }\n        }],\n        buttons: {\n          submit: {\n            name: this.$t(\"Изменить\"),\n            handler: () => {\n              const modalData = this.getDataFromState(this.$t(\"Смена цены на объявление\"))?.admLvl;\n              this.$callClient(\"Weazel:AnnouncmentPriceChange\", modalData);\n            }\n          },\n          cansel: {\n            name: this.$t(\"Отмена\")\n          }\n        }\n      };\n      this.$UniversalModal.create(UniversalModalData);\n    },\n    getDataFromState(title) {\n      return this.$store.getters[\"universalModal/getFormModalDataByTitle\"](title);\n    },\n    onkeydown(event) {\n      if (event.key === \"Enter\" && !event.shiftKey) {\n        event.preventDefault(); // Предотвращаем автоматический перенос строки\n        this.sendMsg();\n        setTimeout(() => {\n          this.resizeTextarea();\n        });\n      }\n    }\n  },\n  computed: {\n    ownerData() {\n      const index = this.content.employeesTop.findIndex(item => item.id === this.content.ownerId);\n      return index > -1 ? [this.content.employeesTop[index].announcementCount, index + 1] : 0;\n    },\n    sortedEmployeesTop() {\n      const clone = [...this.content.employeesTop];\n      return clone.sort((a, b) => b.announcementCount - a.announcementCount);\n    }\n  },\n  components: {\n    InfoIcon,\n    PenIcon,\n    StatsIcon,\n    RedactIcon,\n    PriceStatsIcon,\n    StatsUpIcon,\n    Redaction,\n    TypeIconVue,\n    NoticeIcon,\n    crownIcon\n  },\n  mounted() {\n    window.addEventListener(\"keyup\", this.onKeydown);\n    this.$onClient(\"C:Weazel:setData\", this.setData);\n    //this.$onClient(\"C:Weazel:EditAnnouncementCallBack\", this.setNewItem);\n    this.$onClient(\"C:Weazel:SetOptions\", this.SetOptions);\n    this.$onClient(\"C:Weazel:ChangeRedactionCallBack\", this.SetOptions);\n    this.$onClient(\"C:Weazel:UpdatePad\", this.UpdatePad);\n    this.$callClient(\"C:Weazel:Ready\");\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"keyup\", this.onKeydown);\n    this.$offClient(\"C:Weazel:setData\", this.setData);\n    //this.$offClient(\"C:Weazel:EditAnnouncementCallBack\", this.setNewItem);\n    this.$offClient(\"C:Weazel:SetOptions\", this.SetOptions);\n    this.$offClient(\"C:Weazel:ChangeRedactionCallBack\", this.SetOptions);\n    this.$offClient(\"C:Weazel:UpdatePad\", this.UpdatePad);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}