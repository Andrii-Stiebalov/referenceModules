{"ast":null,"code":"import CloseIcon from \"../Components/Icons/CloseIcon.vue\";\nimport PinIcon from \"../Components/Icons/PinIcon.vue\";\nimport SerchIcon from \"../Components/Icons/SerchIcon.vue\";\nimport MapIcon from \"../Components/Icons/MapItemIcon.vue\";\nimport PassIcon from \"../Components/Icons/PassItemIcon.vue\";\nimport Header from \"../Components/ContentHeader.vue\";\nimport Arrow from \"../Components/ContentHeader.vue\";\nimport PlayerPage from \"./Player.vue\";\nimport PlayerListPage from \"./PlayersList.vue\";\nimport PlayerInfoPage from \"./PlayerInfo.vue\";\nimport TransportPage from \"./Transport.vue\";\nimport TransportSpawnPage from \"./TransportSpawn.vue\";\nimport LogsPage from \"./Logs.vue\";\nimport TPPage from \"./TP.vue\";\nimport ConsolePage from \"./Console.vue\";\nexport default {\n  components: {\n    CloseIcon,\n    PinIcon,\n    SerchIcon,\n    MapIcon,\n    PassIcon,\n    Header,\n    Arrow\n  },\n  data() {\n    return {\n      pathHistory: [],\n      selectedUserUUD: \"\",\n      playerData: {\n        AdminLVL: 25,\n        Name: \"Gypsy_King\",\n        ID: \"56\",\n        uuid: 237186,\n        Passport: 237186,\n        LVL: 25,\n        Family: \"Administration\",\n        Fraction: \"Army ID:14\",\n        Frac_rank: \"-1\",\n        Cash: \"12 549 534$\",\n        Bank: \"12 951 286$\",\n        Fam_money: \"10 220 007$\",\n        Chips: \"41 450\",\n        BankNumber: 764198,\n        House: \"694\",\n        Apartment: \"-\",\n        Biz: \"Заправка  #12\",\n        Licenses: \"car, moto, plane, boat, truck, advocate\",\n        Warn: 0,\n        Demorgan: 0,\n        Mute: 0,\n        Arest: \"0_\",\n        Login: \"gypsy\",\n        Social_c: \"Gypsy_Kingui\",\n        ip: \"109.87.45.210\",\n        hwid: \"D8903A045B4C12C0828C101C564C3AB075E2E55C1AF4F720DAF018C8DD225EC0F824EAC081D466F0E312E3B48FFC72304CB408A056B6E9706E30C648703CF080\"\n      },\n      transportData: [{\n        UUID: 36,\n        number: \"MS123LSX\",\n        name: \"Dinka Prado J150\",\n        fuel: 55.8001,\n        health: 1000,\n        sellPrice: 1300000,\n        duplicate: 5\n      }, {\n        UUID: 37,\n        number: \"RG002PDV\",\n        name: \"Progen 720S\",\n        fuel: 72.0,\n        health: 1000,\n        sellPrice: 11200000\n      }, {\n        UUID: 43,\n        number: \"PN416SQV\",\n        name: \"Obey A8 D3\",\n        fuel: 90.0,\n        health: 1000,\n        sellPrice: 500000\n      }, {\n        UUID: 44,\n        number: \"TJ451LTN\",\n        name: \"Dewbauchee DBS\",\n        fuel: 78.0,\n        health: 1000,\n        sellPrice: 2000000\n      }, {\n        UUID: 45,\n        number: \"HE612FNQ\",\n        name: \"Pegassi Murcielago LP640\",\n        fuel: 100.0,\n        health: 1000,\n        sellPrice: 4000000\n      }, {\n        UUID: 46,\n        number: \"AB821LON\",\n        name: \"Weeny Touareg R50\",\n        fuel: 100.0,\n        health: 1000,\n        sellPrice: 700000\n      }],\n      serchPlayer: \"\",\n      resizing: false,\n      startX: 100,\n      startY: 100,\n      width: 200,\n      // Initial width\n      height: 100,\n      // Initial height\n\n      maxValuesBinding: {\n        PlayerInfo: {\n          maxWidth: \"150rem\",\n          maxHeight: \"150rem\"\n        },\n        TP: {\n          maxWidth: \"50rem\",\n          maxHeight: \"90vh\",\n          height: \"40rem\"\n        },\n        TransportSpawn: {\n          maxWidth: \"100rem\",\n          maxHeight: \"90vh\",\n          height: \"40rem\"\n        },\n        Logs: {\n          maxWidth: \"100rem\",\n          maxHeight: \"90vh\",\n          height: \"40rem\"\n        },\n        PlayersList: {\n          maxWidth: \"100rem\",\n          maxHeight: \"90vh\",\n          height: \"40rem\"\n        }\n      },\n      playersList: [\n        // {\n        //   isOnline: false,\n        //   uuid: 129412,\n        //   Name: \"Ivan_Gypsy\",\n        // },\n        // {\n        //   isOnline: true,\n        //   uuid: 237186,\n        //   Name: \"Gypsy_Pipa\",\n        //   admin: 7,\n        //   ID: 55,\n        // },\n        // {\n        //   isOnline: true,\n        //   uuid: 237186,\n        //   Name: \"Gypsy_King\",\n        //   ID: 5,\n        // },\n        // {\n        //   isOnline: false,\n        //   uuid: 282809,\n        //   Name: \"Gypsy_Gold\",\n        // },\n        // {\n        //   isOnline: false,\n        //   uuid: 774336,\n        //   Name: \"Alen_Gypsy\",\n        // },\n        // {\n        //   isOnline: false,\n        //   uuid: 129412,\n        //   Name: \"Ivan_Gypsy\",\n        // },\n        // {\n        //   isOnline: true,\n        //   uuid: 237186,\n        //   Name: \"Gypsy_King\",\n        //   admin: 7,\n        //   ID: 5,\n        // },\n        // {\n        //   isOnline: false,\n        //   uuid: 282809,\n        //   Name: \"Gypsy_Gold\",\n        // },\n        // {\n        //   isOnline: false,\n        //   uuid: 774336,\n        //   Name: \"Alen_Gypsy\",\n        // },\n        // {\n        //   isOnline: false,\n        //   uuid: 129412,\n        //   Name: \"Ivan_Gypsy\",\n        // },\n        // {\n        //   isOnline: true,\n        //   uuid: 237186,\n        //   Name: \"Gypsy_King\",\n        //   admin: 7,\n        //   ID: 5,\n        // },\n        // {\n        //   isOnline: false,\n        //   uuid: 282809,\n        //   Name: \"Gypsy_Gold\",\n        // },\n        // {\n        //   isOnline: false,\n        //   uuid: 774336,\n        //   Name: \"Alen_Gypsy\",\n        // },\n      ],\n      isPined: false,\n      pages: {\n        Player: PlayerPage,\n        PlayersList: PlayerListPage,\n        PlayerInfo: PlayerInfoPage,\n        Transport: TransportPage,\n        TransportSpawn: TransportSpawnPage,\n        Logs: LogsPage,\n        TP: TPPage,\n        Console: ConsolePage\n      },\n      isDragging: false,\n      offsetX: 0,\n      offsetY: 0\n    };\n  },\n  props: {\n    pageType: String\n  },\n  watch: {\n    pathHistory(val) {}\n  },\n  computed: {\n    currentPage() {\n      return this.pathHistory[this.pathHistory.length - 1];\n    },\n    isNotShowMain() {\n      return this.currentPage === \"Player\";\n    },\n    lastZIndex() {\n      return this.$store.getters[\"adminPanel/getLastZIndex\"];\n    },\n    startPosition() {\n      return this.$store.getters[\"adminPanel/getStartPositoin\"][this.pageType];\n    },\n    pathHistoryForHeader() {\n      return this.pathHistory.map(path => path === \"PlayerInfo\" ? this.playerData.Name : path);\n    }\n  },\n  methods: {\n    setRoute(route, params) {\n      if (route === \"back\") {\n        this.pathHistory.pop();\n        return;\n      }\n      if (route === \"toRoute\") {\n        const index = this.pathHistory.indexOf(route);\n        this.pathHistory = this.pathHistory.slice(0, index);\n        return;\n      }\n      this.pathHistory.push(route);\n      if (params) {\n        this.selectedUserUUD = params[0];\n      }\n    },\n    toggleIsPined() {\n      this.isPined = !this.isPined;\n      if (this.isPined) {\n        const {\n          top,\n          left\n        } = this.$refs.main.getBoundingClientRect();\n        const data = {\n          pageName: this.pageType,\n          offset: {\n            offsetX: left,\n            offsetY: top\n          }\n        };\n        this.$store.dispatch(\"adminPanel/setStartPositoin\", data);\n      } else {\n        const data = {\n          pageName: this.pageType,\n          offset: null\n        };\n        this.$store.dispatch(\"adminPanel/setStartPositoin\", data);\n      }\n    },\n    selectUser(uuid) {\n      this.$callClient(\"C:AdminPanel:AskPlayerInfo\", uuid);\n      this.setRoute(`PlayerInfo`, [uuid]);\n    },\n    setSetValue() {\n      this.$callClient(\"C:AdminPanel:SearchPlayer\", this.serchPlayer);\n    },\n    setPlayerList(data) {\n      this.playersList = data;\n    },\n    startResize(e) {\n      if (this.isPined) return;\n      this.resizing = true;\n      this.startX = e.clientX;\n      this.startY = e.clientY;\n      this.width = this.$refs.main.offsetWidth;\n      this.height = this.$refs.main.offsetHeigth;\n      document.addEventListener(\"mousemove\", this.resize);\n      document.addEventListener(\"mouseup\", this.stopResize);\n    },\n    resize(e) {\n      if (this.resizing) {\n        const newWidth = this.$refs.main.offsetWidth + (e.clientX - this.startX);\n        const newHeight = this.$refs.main.offsetHeight + (e.clientY - this.startY);\n        this.$refs.main.style.width = Math.max(100, newWidth) + \"px\"; // Set a minimum width\n        this.$refs.main.style.height = Math.max(50, newHeight) + \"px\"; // Set a minimum height\n        this.startX = e.clientX;\n        this.startY = e.clientY;\n      }\n    },\n    stopResize() {\n      this.resizing = false;\n      document.removeEventListener(\"mousemove\", this.resize);\n      document.removeEventListener(\"mouseup\", this.stopResize);\n    },\n    onMouseUp() {\n      this.isDragging = false;\n    },\n    onMouseMove(e) {\n      if (!this.isDragging) return;\n      var newX = e.clientX - this.offsetX;\n      var newY = e.clientY - this.offsetY;\n      this.$refs.main.style.left = newX + \"px\";\n      this.$refs.main.style.top = newY + \"px\";\n    },\n    setPlayerData(data) {\n      this.playerData = data;\n      console.log(`_____________set playerData Data_____________`);\n      console.log(data);\n      console.log(`______________________________________________________`);\n      if (!this.pathHistory.includes(\"PlayerInfo\")) {\n        // this.setRoute(`PlayerInfo`, [data.uuid]);\n      }\n    },\n    setPlayerTransportData(data) {\n      console.log(`_____________set Transport Data_____________`);\n      console.log(data);\n      console.log(`______________________________________________________`);\n      this.transportData = data;\n    },\n    onMouseDown(e) {\n      if (this.isPined) return;\n      this.isDragging = true;\n      this.offsetX = e.clientX - this.$refs.main.getBoundingClientRect().left;\n      this.offsetY = e.clientY - this.$refs.main.getBoundingClientRect().top;\n      this.$refs.main.style.zIndex = this.lastZIndex;\n      this.$store.dispatch(\"adminPanel/setLastZIndex\", this.lastZIndex + 1);\n    },\n    goToLocation(subItem) {\n      try {\n        mp.invoke(\"command\", `tp ${subItem}`);\n      } catch {\n        console.log(\"command\", `tp ${subItem}`);\n      }\n    }\n  },\n  mounted() {\n    this.$onClient(\"W:AdminPanel:SetPlayerSearch\", this.setPlayerList);\n    this.$onClient(\"W:AdminPanel:SetPlayerData\", this.setPlayerData);\n    this.$onClient(\"W:AdminPanel:SetPlayerTransportData\", this.setPlayerTransportData);\n    this.pathHistory.push(this.pageType);\n    window.addEventListener(\"mouseup\", this.onMouseUp);\n    window.addEventListener(\"mousemove\", this.onMouseMove);\n    if (this.startPosition) {\n      setTimeout(() => {\n        this.offsetX = this.startPosition.offsetX;\n        this.offsetY = this.startPosition.offsetY;\n        this.$refs.main.style.left = this.offsetX + \"px\";\n        this.$refs.main.style.top = this.offsetY + \"px\";\n        console.log(this.offsetX, this.offsetY);\n      });\n      this.isPined = true;\n    }\n  },\n  beforeUnmount() {\n    this.$offClient(\"W:AdminPanel:SetPlayerSearch\", this.setPlayerList);\n    this.$offClient(\"W:AdminPanel:SetPlayerData\", this.setPlayerData);\n    this.$offClient(\"W:AdminPanel:SetPlayerTransportData\", this.setPlayerTransportData);\n    window.removeEventListener(\"mouseup\", this.onMouseUp);\n    window.removeEventListener(\"mousemove\", this.onMouseMove);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}