{"ast":null,"code":"import CompanyAvatar from \"../Components/CompanyAvatar.vue\";\nimport AddIcon from \"../Components/Icons/AddIcon.vue\";\nimport RemoveIcon from \"../Components/Icons/RemoveIcon.vue\";\nimport CoronIcon from \"../Components/Icons/CoronIcon.vue\";\nimport CompanyAppModal from \"../Components/CompanyAppModal.vue\";\nexport default {\n  data() {\n    return {\n      search: \"\",\n      usersList: [],\n      isShowModal: false,\n      userIdInput: \"\",\n      modalInput: \"\",\n      isCopied: false,\n      isShowConnect: false\n    };\n  },\n  components: {\n    CompanyAvatar,\n    AddIcon,\n    RemoveIcon,\n    CoronIcon,\n    CompanyAppModal\n  },\n  computed: {\n    PMData() {\n      return this.$store.getters[\"playerMenu/getMainData\"];\n    },\n    companyData() {\n      return this.$store.getters[\"phone/getCompanyData\"];\n    }\n  },\n  methods: {\n    onDisband() {\n      if (this.companyData.isOwner) {\n        this.createModal(\"Розформувати компанію\", \"Ви впевнені, що хочете розформувати компанію?\", \"Disband\");\n      } else {\n        this.createModal(\"Вийти з компанії\", \"Ви впевнені, що хочете вийти з компанії?\", \"Leave\");\n      }\n    },\n    createModal(title, text, onSubmitAction) {\n      this.$store.dispatch(\"phone/addModal\", {\n        title,\n        text,\n        buttons: [{\n          text: \"Отменить\",\n          action: () => {\n            this.$store.dispatch(\"phone/removeModal\");\n          }\n        }, {\n          text: \"Подтвердить\",\n          action: () => {\n            this.$callClient(`W:Phone:Company:${onSubmitAction}`);\n            this.$store.dispatch(\"phone/removeModal\");\n          }\n        }]\n      });\n    },\n    addUser() {\n      this.isShowModal = true;\n    },\n    onInvite() {\n      if (this.userIdInput.length) {\n        this.$callClient(\"W:Phone:Company:Invite\", this.userIdInput);\n        this.isShowConnect = true;\n        setTimeout(() => {\n          this.isShowConnect = false;\n        }, 2000);\n      }\n    },\n    onUserIdInput(e) {\n      const value = e.target.value;\n      let onlyNum = value.replace(/\\D/g, \"\");\n      if (onlyNum.length > 4) {\n        onlyNum = onlyNum.slice(0, 4);\n      }\n      this.userIdInput = onlyNum;\n    },\n    copyCode() {\n      const el = document.createElement(\"textarea\");\n      el.value = this.companyData.privateCode;\n      document.body.appendChild(el);\n      el.select();\n      document.execCommand(\"copy\");\n      document.body.removeChild(el);\n      this.isCopied = true;\n      setTimeout(() => {\n        this.isCopied = false;\n      }, 2000);\n    },\n    removeUser(id) {\n      this.$callClient(\"W:Phone:Company:RemoveUser\", id);\n    },\n    onChangeCode() {\n      this.$callClient(\"W:Phone:Company:ChangeCode\");\n    }\n  },\n  mounted() {}\n};","map":null,"metadata":{},"sourceType":"module"}