{"ast":null,"code":"import InfoSection from \"../Components/InfoSection.vue\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      Exp: 0,\n      modalData: {\n        title: \"Описание\",\n        info: [{\n          title: \"Криминальный авторитет\",\n          mainInfo: \"Для получения криминального авторитета семьи необходимо грабить людей, нападать и побеждать чужие территории.\"\n        }, {\n          title: \"Репутация\",\n          mainInfo: \"Для получения криминального авторитета семьи необходимо грабить людей, нападать и побеждать чужие территории.\"\n        }]\n      }\n    };\n  },\n  computed: {\n    ...mapGetters(\"family\", {\n      progressData: \"getProgressData\"\n    })\n  },\n  components: {\n    InfoSection\n  },\n  watch: {\n    progressData() {\n      this.procentChek();\n    }\n  },\n  methods: {\n    procentChek() {\n      this.procent++;\n      const maxProgressWidth = 30.5;\n      let circle = document.querySelector(\".r-progress-bar--progress\");\n      let progressLeft = document.querySelector(\"#inner-left\");\n      let progressRigth = document.querySelector(\"#inner-right\");\n      let i = 0;\n      let widthLeft = 2;\n      let widthRigth = 2;\n      if (this.progressData.CriminalRating) {\n        widthLeft = maxProgressWidth * (this.progressData.CriminalRating / 100);\n        widthRigth = maxProgressWidth * this.progressData.Reputation / 100;\n        progressLeft.style.width = widthLeft + \"rem\";\n        progressRigth.style.width = widthRigth + \"rem\";\n      }\n      const drawCircle = setInterval(() => {\n        const procent = this.progressData.Exp / this.progressData.NextLvlExp * 100;\n        this.Exp += Math.ceil(this.progressData.Exp / procent);\n        i++;\n        circle.style.strokeDashoffset = 100 - i;\n        if (i >= procent) {\n          this.Exp = this.progressData.Exp;\n          clearInterval(drawCircle);\n        }\n      }, 15);\n    }\n  },\n  mounted() {\n    setTimeout(() => {\n      this.procentChek();\n    }, 300);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}