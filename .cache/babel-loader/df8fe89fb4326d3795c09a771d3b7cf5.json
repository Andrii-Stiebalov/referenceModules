{"ast":null,"code":"import { Map, View } from \"ol\";\nimport ImageLayer from \"ol/layer/Image\";\nimport Static from \"ol/source/ImageStatic\";\nimport TileLayer from \"ol/layer/Tile.js\";\nimport XYZ from \"ol/source/XYZ.js\";\nimport Zoom from \"ol/control/Zoom.js\";\nimport DragPan from \"ol/interaction/DragPan\";\nimport Kinetic from \"ol/Kinetic.js\";\nimport MouseWheelZoom from \"ol/interaction/MouseWheelZoom\";\nconst kinetic = new Kinetic(0.5, 10, 200); // Настройка параметров инерции\n\nexport default {\n  props: {\n    setMapObj: Function,\n    typeOfMap: {\n      type: String,\n      default: \"BW\"\n    }\n  },\n  mounted() {\n    const imgWidth = 5000;\n    const imgHeight = 7695;\n    const maps = {\n      BW: \"./img/Family/Map/NarcoMap-min2.jpg\",\n      Color: \"https://cdn.nexus-rp.net/family/customMap.jpg\"\n    };\n    const imgLayer = new ImageLayer({\n      source: new Static({\n        // url: \"./img/Family/Map/crimefields-copy.jpg\",\n        url: maps[this.typeOfMap],\n        imageSize: [imgWidth, imgHeight],\n        imageExtent: [-imgWidth / 2, -imgHeight / 2, imgWidth / 2, imgHeight / 2],\n        size: [imgWidth, imgHeight]\n      })\n    });\n    const source = new XYZ({\n      url: \"./img/Family/Map/tiles/{z}/{x}/{y}.png\",\n      tileSize: 512\n    });\n    const tileLayer = new TileLayer({\n      source\n    });\n    console.log(\"tileLayer__________________\");\n    console.log(\"tileLayer\", tileLayer);\n    const view = new View({\n      projection: \"EPSG:3857\",\n      center: [0, 0],\n      zoom: 15,\n      maxZoom: 19,\n      minZoom: 16,\n      animate: false,\n      constrainOnlyCenter: true,\n      extent: [-imgHeight / 3, -imgHeight / 3, imgHeight / 3, imgHeight / 2]\n    });\n    const mapCenter = view.getCenter();\n    const shiftedCenter = [mapCenter[0] + 2, mapCenter[1] + 2];\n    view.setCenter(shiftedCenter);\n    const map = new Map({\n      target: this.$refs.map,\n      renderer: \"webgl\",\n      layers: [imgLayer],\n      view\n    });\n    const zoomControl = new Zoom({\n      delta: 0.05\n    });\n    map.addControl(zoomControl);\n    this.$store.dispatch(\"setMap\", map);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}