{"ast":null,"code":"import \"./PoliceFBI.scss\";\nimport Notification from \"../Components/Notification.vue\";\nimport FBIHeadline from \"./Components/Global/FBIHeadline.vue\";\nimport PoliceHeadline from \"./Components/Global/PoliceHeadline.vue\";\nimport Code from \"./Assets/Icons/Code.vue\";\nimport Help from \"./Components/Global/Help.vue\";\nimport Navigation from \"./Components/Global/Navigation.vue\";\nimport Modal from \"./Components/Global/CodeModal.vue\";\nimport StarsModal from \"./Components/Search/ArrestModal.vue\";\nimport { mapGetters, mapMutations } from \"vuex\";\nexport default {\n  components: {\n    Notification,\n    FBIHeadline,\n    PoliceHeadline,\n    Code,\n    Help,\n    Navigation,\n    Modal,\n    StarsModal\n  },\n  data() {\n    return {\n      helpHints: [{\n        keys: [\"◄\", \"►\"],\n        title: \"Выбрать вкладку\"\n      }, {\n        keys: [\"Esc\"],\n        title: \"Закрыть планшет\"\n      }],\n      navigationTabs: [{\n        id: \"calls\",\n        title: \"Вызовы\"\n      }, {\n        id: \"human\",\n        title: \"Найти человека\"\n      }, {\n        id: \"vehicle\",\n        title: \"Найти транспорт\"\n      }, {\n        id: \"wanted\",\n        title: \"В розыске\"\n      }, {\n        id: \"database\",\n        title: \"База данных\"\n      }],\n      modalActive: {\n        code: false,\n        stars: false\n      }\n    };\n  },\n  computed: {\n    ...mapGetters(\"stateTablet\", [\"getCallsCount\", \"getNotification\"]),\n    activeComponent() {\n      return this.$route.params.type === \"police\" ? PoliceHeadline : FBIHeadline;\n    },\n    getID() {\n      let path = this.$route.fullPath.split(\"/\");\n      return path[path.length - 1];\n    },\n    blurActive() {\n      return this.modalActive.code || this.modalActive.stars;\n    }\n  },\n  methods: {\n    ...mapMutations(\"stateTablet\", [\"setNotification\"]),\n    openModal() {\n      this.$RPC.call(\"Tablet:OpenCode\").then(() => {\n        this.modalActive.code = true;\n      }).catch(() => {});\n    },\n    closeModal() {\n      this.modalActive.code = false;\n    },\n    sendCode(type) {\n      this.$RPC.call(\"Tablet:SendCode\", type).catch(() => {}).finally(() => this.modalActive.code = false);\n    },\n    openStarsModal(name, stars) {\n      this.modalActive.stars = true;\n      const setParams = () => {\n        this.$EBus.emit(\"Tablet.PoliceFBI->ArrestModal:SetParams\", name, stars);\n        this.$EBus.off(\"Tablet.ArrestModal->PoliceFBI:Mounted\", setParams);\n      };\n      this.$EBus.on(\"Tablet.ArrestModal->PoliceFBI:Mounted\", setParams);\n    },\n    closeStarsModal() {\n      this.modalActive.stars = false;\n    }\n  },\n  created() {\n    this.$EBus.on(\"Tablet.Search->PoliceFBI:OpenStarsModal\", this.openStarsModal);\n  },\n  beforeUnmount() {\n    this.$EBus.off(\"Tablet.Search->PoliceFBI:OpenStarsModal\", this.openStarsModal);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}