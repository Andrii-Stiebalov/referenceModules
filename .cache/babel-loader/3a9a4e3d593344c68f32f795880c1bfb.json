{"ast":null,"code":"const mp = window.mp;\nconst Browser = window.Browser;\nconst data = {\n  editableMember: null,\n  pages: 1,\n  members: [{\n    id: 1,\n    rankId: 22,\n    online: false,\n    name: \"Tony_Bruno\",\n    rank: \"Weazel News Director\",\n    fractionid: 15,\n    enter: \"0 с. \",\n    week: \"39 хв. 40 с. \",\n    day: \"0 хв. 0 с. \"\n  }, {\n    id: 2,\n    rankId: 22,\n    online: true,\n    name: \"Night_Will\",\n    rank: \"Weazel News Director\",\n    fractionid: 15,\n    enter: \"0 хв. 53 с. \",\n    week: \"9 г. 16 хв. 0 с. \",\n    day: \"54 хв. 40 с. \"\n  }, {\n    id: 128140,\n    rankId: 9,\n    online: false,\n    name: \"Jake_Anderson\",\n    rank: \"Goverment Agencies Reporter\",\n    fractionid: 15,\n    enter: \"0 с. \",\n    week: \"4 г. 23 хв. 37 с. \",\n    day: \"0 хв. 0 с. \"\n  }, {\n    id: 147195,\n    rankId: 16,\n    online: false,\n    name: \"Simone_Speaker\",\n    rank: \"Chief Investigation Officer\",\n    fractionid: 15,\n    enter: \"0 с. \",\n    week: \"13 г. 13 хв. 18 с. \",\n    day: \"0 хв. 0 с. \"\n  }, {\n    id: 175933,\n    rankId: 13,\n    online: false,\n    name: \"Julia_Fox\",\n    rank: \"Journalist\",\n    fractionid: 15,\n    enter: \"0 с. \",\n    week: \"13 г. 8 хв. 52 с. \",\n    day: \"0 хв. 0 с. \"\n  }, {\n    id: 179541,\n    rankId: 13,\n    online: false,\n    name: \"Bodya_Giardano\",\n    rank: \"Journalist\",\n    fractionid: 15,\n    enter: \"0 с. \",\n    week: \"9 г. 52 хв. 20 с. \",\n    day: \"0 хв. 0 с. \"\n  }, {\n    id: 197012,\n    rankId: 16,\n    online: false,\n    name: \"Vadym_Sokolovyi\",\n    rank: \"Chief Investigation Officer\",\n    fractionid: 15,\n    enter: \"0 с. \",\n    week: \"7 г. 48 хв. 50 с. \",\n    day: \"0 хв. 0 с. \"\n  }, {\n    id: 253269,\n    rankId: 17,\n    online: false,\n    name: \"Tema_West\",\n    rank: \"Chief Human Resources Officer\",\n    fractionid: 15,\n    enter: \"0 с. \",\n    week: \"7 г. 27 хв. 35 с. \",\n    day: \"0 хв. 0 с. \"\n  }, {\n    id: 292736,\n    rankId: 15,\n    online: false,\n    name: \"Samara_Morgan\",\n    rank: \"Chief of Transport and Communications\",\n    fractionid: 15,\n    enter: \"0 с. \",\n    week: \"9 г. 35 хв. 2 с. \",\n    day: \"0 хв. 0 с. \"\n  }, {\n    id: 347884,\n    rankId: 14,\n    online: false,\n    name: \"Solo_Mun\",\n    rank: \"Show host\",\n    fractionid: 15,\n    enter: \"0 с. \",\n    week: \"17 г. 2 хв. 11 с. \",\n    day: \"0 хв. 0 с. \"\n  }, {\n    id: 504353,\n    rankId: 17,\n    online: false,\n    name: \"Sofia_Turner\",\n    rank: \"Chief Human Resources Officer\",\n    fractionid: 15,\n    enter: \"0 с. \",\n    week: \"12 г. 12 хв. 51 с. \",\n    day: \"0 хв. 0 с. \"\n  }, {\n    id: 815736,\n    rankId: 16,\n    online: false,\n    name: \"Dzhevelin_Giardano\",\n    rank: \"Chief Investigation Officer\",\n    fractionid: 15,\n    enter: \"0 с. \",\n    week: \"5 г. 51 хв. 30 с. \",\n    day: \"0 хв. 0 с. \"\n  }, {\n    id: 909110,\n    rankId: 13,\n    online: false,\n    name: \"Owen_Kos\",\n    rank: \"Journalist\",\n    fractionid: 15,\n    enter: \"0 с. \",\n    week: \"22 г. 46 хв. 8 с. \",\n    day: \"0 хв. 0 с. \"\n  }, {\n    id: 909978,\n    rankId: 15,\n    online: false,\n    name: \"Mykhailo_Fallen\",\n    rank: \"Chief of Transport and Communications\",\n    fractionid: 15,\n    enter: \"0 с. \",\n    week: \"5 г. 22 хв. 8 с. \",\n    day: \"0 хв. 0 с. \"\n  }],\n  transportList: [{\n    id: 1,\n    date: \"01.12.2023\",\n    time: \"08:27\",\n    name: \"a8fsi\",\n    number: \"NEWS01\",\n    rankName: \"Chief of Transport and Communications\",\n    rankId: 15,\n    driver: null\n  }, {\n    id: 2,\n    date: \"18.11.2023\",\n    time: \"07:45\",\n    name: \"toros\",\n    number: \"NEWS02\",\n    rankName: \"Senior Advertiser\",\n    rankId: 10,\n    driver: null\n  }, {\n    id: 3,\n    date: \"18.11.2023\",\n    time: \"07:45\",\n    name: \"baller4\",\n    number: \"NEWS03\",\n    rankName: \"Technology Reporter\",\n    rankId: 7,\n    driver: null\n  }, {\n    id: 4,\n    date: \"18.11.2023\",\n    time: \"07:45\",\n    name: \"baller4\",\n    number: \"NEWS04\",\n    rankName: \"Technology Reporter\",\n    rankId: 7,\n    driver: null\n  }, {\n    id: 5,\n    date: \"18.11.2023\",\n    time: \"07:44\",\n    name: \"Jugular\",\n    number: \"NEWS05\",\n    rankName: \"Junior Journalist\",\n    rankId: 3,\n    driver: null\n  }, {\n    id: 6,\n    date: \"24.01.2024\",\n    time: \"08:32\",\n    name: \"Jugular\",\n    number: \"NEWS06\",\n    rankName: \"Junior Journalist\",\n    rankId: 3,\n    driver: null\n  }, {\n    id: 7,\n    date: \"18.11.2023\",\n    time: \"07:44\",\n    name: \"Komoda\",\n    number: \"NEWS07\",\n    rankName: \"Intern\",\n    rankId: 1,\n    driver: null\n  }, {\n    id: 8,\n    date: \"18.11.2023\",\n    time: \"07:44\",\n    name: \"Komoda\",\n    number: \"NEWS08\",\n    rankName: \"Intern\",\n    rankId: 1,\n    driver: null\n  }, {\n    id: 9,\n    date: \"03.09.2023\",\n    time: \"10:31\",\n    name: \"tourbus\",\n    number: \"NEWS09\",\n    rankName: \"Junior Journalist\",\n    rankId: 3,\n    driver: null\n  }, {\n    id: 10,\n    date: \"23.01.2024\",\n    time: \"07:06\",\n    name: \"newsspeedo\",\n    number: \"NEWS10\",\n    rankName: \"Junior Journalist\",\n    rankId: 3,\n    driver: null\n  }, {\n    id: 11,\n    date: \"23.01.2024\",\n    time: \"07:06\",\n    name: \"newsspeedo\",\n    number: \"NEWS11\",\n    rankName: \"Junior Journalist\",\n    rankId: 3,\n    driver: null\n  }, {\n    id: 12,\n    date: \"23.01.2024\",\n    time: \"07:06\",\n    name: \"newsspeedo\",\n    number: \"NEWS12\",\n    rankName: \"Junior Journalist\",\n    rankId: 3,\n    driver: null\n  }, {\n    id: 13,\n    date: \"31.01.2024\",\n    time: \"11:43\",\n    name: \"dubsta3\",\n    number: \"NEWS13\",\n    rankName: \"Chief Human Resources Officer\",\n    rankId: 17,\n    driver: null\n  }, {\n    id: 14,\n    date: \"31.01.2024\",\n    time: \"11:44\",\n    name: \"volatus\",\n    number: \"NEWS14\",\n    rankName: \"Chief of Transport and Communications\",\n    rankId: 15,\n    driver: null\n  }, {\n    id: 15,\n    date: \"25.01.2024\",\n    time: \"12:38\",\n    name: \"buzzard2\",\n    number: \"NEWS21\",\n    rankName: \"Advertiser\",\n    rankId: 5,\n    driver: null\n  }, {\n    id: 16,\n    date: \"18.11.2023\",\n    time: \"07:47\",\n    name: \"stretch\",\n    number: \"NEWS15\",\n    rankName: \"Chief of Transport and Communications\",\n    rankId: 15,\n    driver: null\n  }, {\n    id: 17,\n    date: \"17.02.2024\",\n    time: \"06:04\",\n    name: \"supervolito2\",\n    number: \"NEWS16\",\n    rankName: \"Journalist\",\n    rankId: 13,\n    driver: null\n  }, {\n    id: 18,\n    date: \"18.11.2023\",\n    time: \"07:47\",\n    name: \"stretch\",\n    number: \"NEWS17\",\n    rankName: \"Chief of Transport and Communications\",\n    rankId: 15,\n    driver: null\n  }],\n  rankList: [{\n    id: 1,\n    name: \"Intern\",\n    date: \"12.06.2024\",\n    time: \"18:47\"\n  }, {\n    id: 2,\n    name: \"Junior Advertiser\",\n    date: \"12.06.2024\",\n    time: \"16:02\"\n  }, {\n    id: 3,\n    name: \"Junior Journalist\",\n    date: \"12.06.2024\",\n    time: \"16:02\"\n  }, {\n    id: 5,\n    name: \"Advertiser\",\n    date: \"12.06.2024\",\n    time: \"16:02\"\n  }, {\n    id: 6,\n    name: \"Reporter\",\n    date: \"12.06.2024\",\n    time: \"16:01\"\n  }, {\n    id: 7,\n    name: \"Technology Reporter\",\n    date: \"12.06.2024\",\n    time: \"16:01\"\n  }, {\n    id: 8,\n    name: \"Business Reporter\",\n    date: \"12.06.2024\",\n    time: \"16:01\"\n  }, {\n    id: 9,\n    name: \"Goverment Agencies Reporter\",\n    date: \"12.06.2024\",\n    time: \"16:01\"\n  }, {\n    id: 10,\n    name: \"Senior Advertiser\",\n    date: \"12.06.2024\",\n    time: \"16:01\"\n  }, {\n    id: 11,\n    name: \"Senior Journalist\",\n    date: \"12.06.2024\",\n    time: \"16:01\"\n  }, {\n    id: 12,\n    name: \"Senior Reporter\",\n    date: \"12.06.2024\",\n    time: \"16:01\"\n  }, {\n    id: 13,\n    name: \"Journalist\",\n    date: \"10.06.2024\",\n    time: \"22:20\"\n  }, {\n    id: 14,\n    name: \"Show host\",\n    date: \"12.06.2024\",\n    time: \"16:01\"\n  }, {\n    id: 15,\n    name: \"Chief of Transport and Communications\",\n    date: \"12.06.2024\",\n    time: \"16:00\"\n  }, {\n    id: 16,\n    name: \"Chief Investigation Officer\",\n    date: \"12.06.2024\",\n    time: \"16:00\"\n  }, {\n    id: 17,\n    name: \"Chief Human Resources Officer\",\n    date: \"12.06.2024\",\n    time: \"16:00\"\n  }, {\n    id: 18,\n    name: \"Chief Financial Officer\",\n    date: \"12.06.2024\",\n    time: \"16:00\"\n  }, {\n    id: 19,\n    name: \"Chief of Staff\",\n    date: \"12.06.2024\",\n    time: \"16:00\"\n  }, {\n    id: 20,\n    name: \"General Counsel & Secretary\",\n    date: \"12.06.2024\",\n    time: \"18:47\"\n  }, {\n    id: 21,\n    name: \"Executive Deputy Director\",\n    date: \"12.06.2024\",\n    time: \"18:46\"\n  }, {\n    id: 22,\n    name: \"Weazel News Director\",\n    date: \"12.06.2024\",\n    time: \"16:00\"\n  }],\n  permissions: [{\n    name: \"MANAGE SOMTHING\",\n    value: true\n  }, {\n    name: \"MANAGE SOMTHING 2002\",\n    value: false\n  }],\n  actionList: [{\n    id: \"spawnVehicles\",\n    img: \"vehicles\",\n    title: \"Заспавнити весь <br> фракцiйний транспорт\",\n    type: \"default\",\n    content: \"Заспавнити\"\n  }, {\n    id: \"warehouseCondition\",\n    img: \"condition\",\n    title: \"Вiдкриття/закриття сховища фракцiї\",\n    type: \"value\",\n    value: \"закритий\",\n    content: \"Склад\"\n  }, {\n    id: \"organizationBalance\",\n    img: \"balance\",\n    title: \"Баланс <br> фракцiї\",\n    type: \"value\",\n    value: 6761819,\n    convert: \"true\",\n    content: \"\"\n  }, {\n    id: \"showMembers\",\n    img: \"members\",\n    title: \"Показати членiв <br> органiзацiї на картi\",\n    type: \"value\",\n    value: \"вимкнено\",\n    content: \"Вiдображення\"\n  }, {\n    id: \"sendAnnouncement\",\n    img: \"announcement\",\n    title: \"Надiслати оголошення <br> про набiр у фракцiю\",\n    type: \"default\",\n    content: \"Вiдправити\"\n  }]\n};\nmp.events.add(\"Controls:Members:Ready\", () => {\n  const countOnOnePage = 10;\n  const count = Math.ceil(data.members.length / countOnOnePage);\n  const slicedMembers = data.members.slice(countOnOnePage * (data.pages - 1), countOnOnePage * data.pages);\n  Browser.emit(\"Controls:UpdateMembers\", slicedMembers, count, data.pages);\n});\nmp.events.add(\"Controls:SetMembersPage\", (type, page) => {\n  const countOnOnePage = 10;\n  const count = Math.ceil(data.members.length / countOnOnePage);\n  if (type == \"prev\") {\n    data.pages = data.pages != 1 ? data.pages - 1 : data.pages;\n  } else {\n    data.pages = data.pages !== count ? data.pages + 1 : data.pages;\n  }\n  const slicedMembers = data.members.slice(countOnOnePage * (data.pages - 1), countOnOnePage * data.pages);\n  Browser.emit(\"Controls:UpdateMembers\", slicedMembers, count, data.pages);\n});\nmp.events.add(\"Controls:EditMemberRank\", id => {\n  data.editableMember = data.members.find(member => member.id === id);\n  console.log(data.editableMember, id);\n  Browser.setRoute(\"/organization/members/edit\");\n});\nmp.events.add(\"Controls:EditMemberRank:Ready\", () => {\n  Browser.emit(\"Constrols:MemberEditor:SetData\", data.editableMember, data.rankList);\n});\nmp.events.add(\"Controls:SetMemberRank\", (type, memberId) => {\n  const member = data.members.find(member => member.id === memberId);\n  if (type == \"prev\") {\n    member.rankId = member.rankId != 1 ? member.rankId - 1 : member.rankId;\n  } else if (type == \"next\") {\n    member.rankId = member.rankId != data.rankList.length ? member.rankId + 1 : member.rankId;\n  } else {\n    member.rankId = type;\n  }\n  member.rank = data.rankList.find(rank => rank.id == member.rankId).name;\n  const countOnOnePage = 10;\n  const count = Math.ceil(data.members.length / countOnOnePage);\n  const slicedMembers = data.members.slice(countOnOnePage * (data.pages - 1), countOnOnePage * data.pages);\n  Browser.emit(\"Controls:UpdateMembers\", slicedMembers, count, data.pages);\n});\nmp.events.add(\"Controls:rankChangePermissions\", id => {\n  data.currentRankOnEdit = data.rankList.find(rank => rank.id == id);\n  console.log(data.currentRankOnEdit);\n  Browser.setRoute(\"/organization/ranks/edit\");\n});\nmp.events.add(\"Controls:RankEditor:Ready\", () => {\n  Browser.emit(\"Controls:RankEditor:SetData\", data.permissions, data.currentRankOnEdit);\n});\nmp.events.add(\"Controls:AddRank\", id => {\n  const newRank = {\n    id,\n    name: \"Введите имя ранга\",\n    date: \"12.06.2024\",\n    time: \"16:01\"\n  };\n  Browser.emit(\"Controls:Ranks:AddRank\", newRank);\n});\nmp.events.add(\"Controls:Ranks:Ready\", () => {\n  Browser.emit(\"Controls:Ranks:SetData\", data.rankList);\n});\nmp.events.add(\"Controls:EditRankName\", id => {\n  Browser.emit(\"Controls:Ranks:OpenRankNameEditor\", id);\n});\nmp.events.add(\"Controls:ChangeVehicleAccess\", id => {\n  data.editableTransport = data.transportList.find(transport => transport.id === id);\n  Browser.setRoute(\"/organization/transport/edit\");\n});\nmp.events.add(\"Controls:Transport:Ready\", () => {\n  Browser.emit(\"Controls:Transport:SetData\", data.transportList);\n});\nmp.events.add(\"Controls:TransportEditor:Ready\", () => {\n  Browser.emit(\"Constrols:TransportEditor:SetData\", data.editableTransport, data.rankList);\n});\nmp.events.add(\"Controls:Actions:Ready\", () => {\n  Browser.emit(\"Controls:Actions:SetData\", data.actionList);\n  Browser.emit('Controls:Actions:SetOrganizationList', [{\n    id: 5,\n    name: 'FIB'\n  }]);\n});","map":null,"metadata":{},"sourceType":"script"}