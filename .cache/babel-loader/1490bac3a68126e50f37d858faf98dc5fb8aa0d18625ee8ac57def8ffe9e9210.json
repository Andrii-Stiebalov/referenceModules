{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport SystemAppHeader from \"../../../Components/SystemAppHeader.vue\";\nimport GalleryAppItemImg from \"./Components/GalleryAppItemImg.vue\";\nexport default {\n  components: {\n    SystemAppHeader,\n    GalleryAppItemImg\n  },\n  data() {\n    return {\n      isShowSelector: false,\n      selectedList: []\n    };\n  },\n  props: {\n    isMsg: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    selectImg(item) {\n      if (!this.isShowSelector) {\n        this.$store.dispatch(\"phone/setShownPhoto\", item.url);\n        return;\n      }\n      const selectedItem = this.selectedList.find(i => i.localUrl == item.localUrl);\n      if (selectedItem) {\n        this.selectedList = this.selectedList.filter(item => item.localUrl !== item.localUrl);\n        return;\n      }\n      this.selectedList.push(item);\n    },\n    createNewMsg() {\n      this.isShowSelector = !this.isShowSelector;\n      this.selectedList = [];\n    },\n    onDeleteAll() {\n      this.$callClient(\"W:Phone:GalleryApp:Delete\", this.selectedList);\n      this.isShowSelector = false;\n      this.selectedList = [];\n    },\n    sendMsg() {\n      if (this.selectedList.length) {\n        this.$emit(\"send\", this.selectedList);\n      } else {\n        this.selectedList = [];\n      }\n    }\n  },\n  computed: {\n    imgList() {\n      return this.$store.getters[\"phone/getGalleryList\"];\n    }\n  },\n  mounted() {\n    if (this.isMsg) {\n      this.isShowSelector = true;\n    }\n  },\n  beforeUnmount() {\n    this.$store.dispatch(\"phone/setShownPhoto\", \"\");\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}