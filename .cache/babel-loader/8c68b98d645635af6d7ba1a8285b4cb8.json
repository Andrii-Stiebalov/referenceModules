{"ast":null,"code":"export default {\n  namespaced: true,\n  state: {\n    notification: true,\n    sound: \"https://song.nazvonok.ru/song/6c80/sms-uvedomlenie-na-iphone-zvuk-sms-na-telefonah-apple.mp3?id=25161\",\n    callsList: []\n  },\n  getters: {\n    getCalls: state => {\n      return state.callsList;\n    },\n    getCallsCount: state => {\n      return state.callsList.length;\n    },\n    getNotification: state => {\n      return state.notification;\n    }\n  },\n  mutations: {\n    clearCalls(state) {\n      state.callsList = [];\n    },\n    setCalls(state, calls) {\n      calls.forEach(call => state.callsList.push(Object.freeze(call)));\n    },\n    addCall(state, call) {\n      if (state.notification) {\n        let audio = new Audio(state.sound);\n        audio.volume = 0.05;\n        audio.play();\n      }\n      state.callsList.push(Object.freeze(call));\n    },\n    updateCall(state, newCall) {\n      let call = state.callsList.find(call => call.id === newCall.id);\n      if (call) {\n        let index = state.callsList.indexOf(call);\n        state.callsList.splice(index, 1, Object.freeze(newCall));\n      }\n    },\n    removeCall(state, callID) {\n      let call = state.callsList.find(call => call.id === callID);\n      if (call) {\n        let index = state.callsList.indexOf(call);\n        state.callsList.splice(index, 1);\n      }\n    },\n    setNotification(state, enabled) {\n      state.notification = enabled;\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module"}