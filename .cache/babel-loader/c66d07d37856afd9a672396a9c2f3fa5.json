{"ast":null,"code":"import ConfirmationHeader from \"../../../global/organization/ConfirmationHeader.js\";\nexport default {\n  template: `\n    <div class=\"controls-main__wrapper header\">\n        <ConfirmationHeader\n            :headerProps=\"headerProps\"\n            @getBack=\"getBack\"\n            @saveChanges=\"saveChanges\">\n        </ConfirmationHeader>\n        <div class=\"controls-main__content\">\n            <div class=\"controls-main__content-list edit\">\n                <div class=\"controls-edit__item members\"\n                    v-for=\"rank in shortRanks\"\n                    :class=\"{active:showActive(rank)}\"\n                    @click=\"setRank(rank)\"\n                    >\n                    <p>{{getRankName(rank)}}</p>\n                </div>\n            </div>\n        </div>\n    </div>\n    `,\n  components: {\n    ConfirmationHeader\n  },\n  props: {\n    editableMember: {\n      type: Object,\n      required: true\n    },\n    shortRanks: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      activeRank: 0\n    };\n  },\n  computed: {\n    headerProps() {\n      let online = this.editableMember && this.editableMember.online !== undefined ? this.editableMember.online : ``;\n      let title = this.editableMember && this.editableMember.name !== undefined ? this.editableMember.name : ``;\n      let subtitle = this.$t(`Выдача ранга`);\n      return {\n        online,\n        title,\n        subtitle\n      };\n    }\n  },\n  methods: {\n    showActive(rank) {\n      return rank && rank.id !== undefined && rank.id === this.activeRank ? true : false;\n    },\n    setRank(rank) {\n      if (rank && rank.id !== undefined && rank.id !== this.activeRank) this.activeRank = rank.id;\n    },\n    getRankName(rank) {\n      return rank && rank.id !== undefined && rank.name !== undefined ? `#${rank.id} ${rank.name}` : ``;\n    },\n    getBack() {\n      this.$EBus.$emit(\"src/components/controls/organization/members/edit/MembersEdit->src/mixins/controls/organization/Members:MembersGetBack\");\n    },\n    saveChanges() {\n      this.$EBus.$emit(\"src/components/controls/organization/members/edit/MembersEdit->src/mixins/controls/organization/Members:MembersSetRank\", this.activeRank, this.editableMember.id);\n    }\n  },\n  mounted() {\n    if (this.editableMember && this.editableMember.rankId !== undefined) this.activeRank = this.editableMember.rankId;\n  }\n};","map":null,"metadata":{},"sourceType":"module"}