{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from \"vuex\";\nimport InfoSection from \"../Components/InfoSection.vue\";\n// eslint-disable-next-line no-unused-vars\nimport infoModalsData from \"../../../../Assets/infoModalsData\";\nexport default {\n  components: {\n    InfoSection\n  },\n  computed: {\n    ...mapGetters(\"family\", {\n      transportsData: \"getTransportsData\",\n      playerPermissions: \"getPlayerPermissions\"\n    }),\n    transportList() {\n      if (!this.transportsData?.TransportList) {\n        return [];\n      }\n      const transportList = [...this.transportsData.TransportList];\n      if (!(transportList.length % 8)) {\n        return transportList;\n      }\n      if (transportList.length % 8) {\n        const eptyArr = {\n          isEmpty: true\n        };\n        transportList.push(eptyArr);\n      }\n      return transportList;\n    },\n    paginatedTransportList() {\n      const startPagination = (this.activePage - 1) * 8;\n      const endPagination = startPagination + 8 > this.transportList.length ? this.transportList.length : startPagination + 8;\n      return this.transportList.slice(startPagination, endPagination);\n    }\n  },\n  data() {\n    return {\n      buttonsData: [{\n        name: \"Показать на карте\",\n        img: \"location\",\n        event: \"showLocation\"\n      }, {\n        name: \"Эвакуировать\",\n        img: \"evacuation\",\n        event: \"evacuate\"\n      }, {\n        name: \"Восствновить\",\n        img: \"regen\",\n        event: \"restore\"\n      }, {\n        name: \"Продать\",\n        img: \"doll\",\n        event: \"sell\"\n      }],\n      countOfPages: 1,\n      infoModalsData,\n      activePage: 1,\n      modalData: {\n        title: \"Информация о участниках\",\n        info: [{\n          title: \"Как увеличить количество участников?\",\n          mainInfo: \"Чтобы увеличить количество участников семьи - необходимо улучшать особняк, также с каждым полученным уровнем семьи - количество участников повышается.\"\n        }, {\n          title: \"Как узнать неактивных участников семьи?\",\n          mainInfo: \"Для того, чтобы контролировать онлайн участников - необходимо: \\n1. Перейти в управление участниками\\n2. Во вкладке “Онлайн” нажать на кнопку сортировки и выбрать нужный вам вариант.\"\n        }]\n      }\n    };\n  },\n  methods: {\n    onClick(event, UID) {\n      const obj = {\n        subAction: event,\n        uuid: UID\n      };\n      if (event === \"sell\") {\n        this.onSell(obj);\n        return;\n      }\n      this.$callClient(\"C:Family:Tablet:Action\", \"CarAction\", obj);\n    },\n    onSell(obj) {\n      const itemName = this.transportsData.TransportList.find(item => item.Id == obj.uuid).CarName;\n      console.log(itemName);\n      const UniversalModalData = {\n        title: this.$t(\"Продажа транспорта\"),\n        content: [{\n          type: \"description\",\n          value: this.$t(`Вы действительно хотите продать транспорт <span>{0}</span>`, itemName)\n        }],\n        buttons: {\n          submit: {\n            name: this.$t(\"Да\"),\n            handler: () => {\n              this.$callClient(\"C:Family:Tablet:Action\", \"CarAction\", obj);\n            }\n          },\n          cansel: {\n            name: this.$t(\"Отмена\"),\n            handler: () => {}\n          }\n        }\n      };\n      this.$UniversalModal.create(UniversalModalData);\n    },\n    checkPermisions(perm) {\n      return this.playerPermissions.includes(perm);\n    },\n    setPagination() {\n      const maxItems = 8;\n      if (this.transportList.length > maxItems) {\n        this.countOfPages = Math.ceil(this.transportList.length / 8);\n      }\n    },\n    movePagination(paginationData) {\n      if (typeof paginationData === \"number\") {\n        this.activePage = paginationData;\n        return;\n      }\n      if (this.activePage === this.countOfPages && paginationData === \"+\") {\n        this.activePage = 1;\n        return;\n      }\n      if (this.activePage === 1 && paginationData === \"-\") {\n        this.activePage = this.countOfPages;\n        return;\n      }\n      paginationData === \"+\" ? this.activePage++ : this.activePage--;\n    }\n  },\n  watch: {\n    transportList() {\n      this.setPagination();\n    }\n  },\n  mounted() {\n    this.setPagination();\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}