{"ast":null,"code":"import { mapGetters } from \"vuex\";\nimport api from \"../../mixins/api.js\";\nimport IconDagger1 from \"../../assets/icons/dagger-1.vue\";\nimport IconCart1 from \"../../assets/icons/cart-1.vue\";\nimport \"../../style/global/modal/pay-way.scss\";\nexport default {\n  components: {\n    IconDagger1,\n    IconCart1\n  },\n  mixins: [api],\n  data() {\n    return {\n      payWayTypes: [],\n      payWays: [],\n      paymentSumMax: 150000,\n      donateIframeSrc: null\n    };\n  },\n  computed: {\n    ...mapGetters(\"global\", [\"getCdnResolver\", \"getPayment\", \"getModals\"])\n  },\n  methods: {\n    getPayWayImage(image) {\n      return `${this.getCdnResolver.cdnLink}/payment/merchants/${image}.svg`;\n    },\n    selectPayWay(payway) {\n      this.getPayment.selectedPayWay = payway;\n    },\n    modalPayWayCloseEscape(e) {\n      if (e.keyCode === 27 && !window.isModalShow) {\n        this.$emit(\"modalCloseEscape\");\n      }\n    },\n    modalPayWayCloseDagger() {\n      this.$emit(\"modalCloseDagger\");\n    },\n    modalPayWayFormSubmit(e) {\n      this.$emit(\"modalFormSubmit\", e);\n    }\n  },\n  created() {\n    document.addEventListener(\"keyup\", this.modalPayWayCloseEscape);\n  },\n  beforeMount() {\n    this.APIgetPayWayTypes().then(data => {\n      if (data.status) {\n        this.payWays = data.payways;\n      }\n    }).catch(() => {\n      this.$Notification.create({\n        type: \"error\",\n        layout: \"compact-bottom__right\",\n        theme: \"compact\",\n        time: 5000,\n        text: `\n                        <div class=\"notification-text__item\">\n                            <div class=\"notification-text__item-title\">\n                                <span>${this.$t(\"Ошибка\")}</span>\n                            </div>\n                            <div class=\"notification-text__item-subtitle\">\n                                <span>${this.$t(\"Время ожидание от сервера вышло, попробуйте позже.\")}</span>\n                            </div>\n                        </div>\n                        <div class=\"notification-text__item\">\n                            <div class=\"notification-text__item-icon\">\n                                <span class=\"icon-error\"></span>\n                            </div>\n                        </div>\n                    `,\n        progressBar: false\n      });\n    });\n  },\n  beforeUnmount() {\n    document.removeEventListener(\"keyup\", this.modalPayWayCloseEscape);\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}