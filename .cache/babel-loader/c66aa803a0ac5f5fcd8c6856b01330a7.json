{"ast":null,"code":"import PageTitleVue from \"./Components/PageTitle.vue\";\nimport WorkbenchLogoIcon from \"./Components/icons/WorkbenchLogo.vue\";\nimport WorkbenchSideBar from \"./Components/WorkbenchSideBar.vue\";\nimport WorkbenchMain from \"./Components/WorkbenchMain.vue\";\nexport default {\n  data() {\n    return {\n      navList: [{\n        id: 5,\n        icon: \"test\"\n      }],\n      CraftCategories: [],\n      selectedtCategory: null,\n      Progress: 50,\n      ChanceBoost: 0,\n      CurrentItem: null,\n      Recipes: [],\n      selectedRecipe: null,\n      inventory: {},\n      JobLevels: {},\n      Balance: 0\n    };\n  },\n  components: {\n    PageTitleVue,\n    WorkbenchLogoIcon,\n    WorkbenchSideBar,\n    WorkbenchMain\n  },\n  computed: {\n    complexCurrentItem() {\n      if (!this.CurrentItem) {\n        return null;\n      }\n      const findItem = this.Recipes.find(item => item.ItemId == this.CurrentItem.ItemId);\n      return Object.assign(this.CurrentItem, findItem);\n    },\n    filteredRecipes() {\n      return this.complexRecipes.filter(recipe => recipe.CategoryId == this.selectedtCategory);\n    },\n    complexRecipes() {\n      return this.Recipes.map(recipe => {\n        const isHaveLvl = recipe.ReqJob != -1 ? this.JobLevels?.[recipe.ReqJob] >= recipe?.ReqJobLVL : true;\n        console.log(isHaveLvl);\n        return {\n          ...recipe,\n          isHaveLvl\n        };\n      });\n    }\n  },\n  methods: {\n    setData(data) {\n      Object.assign(this.$data, data);\n    },\n    selectRecipe(Recipe) {\n      this.selectedRecipe = Recipe;\n    },\n    close() {\n      this.$callClient(\"C:CraftTable:Close\");\n    },\n    onkeyup(e) {\n      if (e.keyCode === 27 && !window.isModalShow) {\n        this.close();\n      }\n    },\n    formatMoney(amount) {\n      const parts = amount.toString().split(\".\");\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n      return parts.join(\".\");\n    }\n  },\n  watch: {\n    CraftCategories(val, oldVal) {\n      if (!oldVal.length) {\n        this.selectedtCategory = val[0].CategoryId;\n      }\n    }\n  },\n  mounted() {\n    // this.setData(payload);\n    this.$onClient(\"W:CraftTable:SetData\", this.setData);\n    window.addEventListener(\"keyup\", this.onkeyup);\n    this.$callClient(\"C:CraftTable:Ready\");\n  },\n  beforeUnmount() {\n    // this.setData(payload);\n    this.$offClient(\"W:CraftTable:SetData\", this.setData);\n    window.removeEventListener(\"keyup\", this.onkeyup);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}