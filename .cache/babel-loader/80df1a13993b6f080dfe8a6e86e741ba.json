{"ast":null,"code":"export default {\n  props: {\n    data: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      graphHeight: 0\n    };\n  },\n  computed: {\n    computedValues() {\n      return (this.data.points || []).map(point => point.value);\n    },\n    computedMax() {\n      return this.computedValues.length ? Math.max(...this.computedValues) : 10000;\n    },\n    computedMin() {\n      return this.computedValues.length ? Math.min(...this.computedValues) : 0;\n    },\n    markupValue() {\n      return Math.floor((this.computedMax - this.computedMin) / (!this.computedMin ? 9 : 8));\n    },\n    markupArray() {\n      return Array.from({\n        length: 11\n      }).map((el, idx) => Math.floor(this.computedMin + (!this.computedMin ? idx : idx - 1) * this.markupValue));\n    },\n    pointerValue() {\n      return this.graphHeight / 10;\n    }\n  },\n  methods: {\n    getItemValue(idx) {\n      return this.computedValues.length ? this.data.points[idx - 1].value : 0;\n    },\n    getItemDate(idx) {\n      return this.computedValues.length ? this.data.points[idx - 1].date : \"\";\n    },\n    getItemPointer(value) {\n      let intervalCount = (value - this.computedMin) / this.markupValue + (this.computedMin ? 1 : 0);\n      return intervalCount * this.pointerValue / this.$fontSize - 0.25;\n    },\n    onResize() {\n      let mainElement = document.querySelector(\".businessTabletChartItem-main\");\n      let textElement = document.querySelector(\".businessTabletChart-markup > p\");\n      if (mainElement) {\n        let {\n          height\n        } = mainElement.getBoundingClientRect();\n        if (textElement) {\n          let textElementHeight = textElement.getBoundingClientRect().height;\n          this.graphHeight = height - textElementHeight - 1;\n        }\n      }\n    }\n  },\n  created() {\n    window.addEventListener(\"resize\", this.onResize);\n    this.$callClient(\"C:BusinessTablet:ChartReady\");\n  },\n  mounted() {\n    this.onResize();\n  },\n  beforeUnmount() {\n    window.addEventListener(\"resize\", this.onResize);\n    this.$callClient(\"C:BusinessTablet:ChartDestroyed\");\n  }\n};","map":null,"metadata":{},"sourceType":"module"}